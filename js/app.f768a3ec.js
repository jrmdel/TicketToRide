(function(){var e={1456:function(e,t,s){"use strict";s.d(t,{db:function(){return Hi}});var i=s(7768),a=s(8588),n=s(8824),r=s(9552),o=s(528),c=s(4600),l=s(112),u=s(6328),d=s(500),m=s(328),p=s(1052),g=s(4252),h=s(856),E=s(7535),A=s(7904),R=s(28),S=s(7592),y=s(9778),O=s(7704),N=s(7396),T=s(1272),b=s(7900),I=s(1224),_=s(352),L=s(4752),f=s(8528),v=s(9824),C=s(3308),U=s(1316),D=s(4756),B=function(){var e=this,t=e._self._c;return t(a.c,[t(n.c,{attrs:{app:"",color:"primary",dark:"","hide-on-scroll":""},scopedSlots:e._u([{key:"extension",fn:function(){return[t(L.c,{attrs:{"mobile-breakpoint":"0"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(v.c,{attrs:{color:"secondary"}}),t(I.c,[e._v(e._s(e.$t("app.tabs.current")))]),t(I.c,[e._v(e._s(e.$t("app.tabs.scoreboard")))]),t(I.c,[e._v(e._s(e.$t("app.tabs.help")))])],1)]},proxy:!0}])},[t("div",{staticClass:"d-flex align-center"},[t("span",{staticClass:"text-h5 font-weight-light"},[e._v("Ticket To Ride")])]),t(N.c),t(r.c,{attrs:{text:""},on:{click:e.openCreate}},[t("span",{staticClass:"mr-2"},[e._v(e._s(e.$t("app.new.title")))]),t(h.c,[e._v("mdi-checkerboard-plus")])],1),t(p.c,{attrs:{vertical:"",inset:""}}),t(A.c,{attrs:{"close-on-content-click":!1,left:"",bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(r.c,e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),s),[t(h.c,[e._v("mdi-dots-vertical")])],1)]}}]),model:{value:e.menuSettings,callback:function(t){e.menuSettings=t},expression:"menuSettings"}},[t(o.c,{attrs:{"min-width":"250"}},[t(U.c,{attrs:{flat:"",color:"primaryLight"}},[t(D.mw,{staticClass:"darkenBlack--text"},[e._v(e._s(e.$t("app.settings")))])],1),t(c.c$,[t(u.c,[t(R.c,{attrs:{align:"center"}},[t(b.c,{staticClass:"pt-0 mt-0",attrs:{label:e.$t("app.theme")+" :",inset:"",color:"accent","hide-details":""},model:{value:e.computedTheme,callback:function(t){e.computedTheme=t},expression:"computedTheme"}}),t("div",{staticClass:"text-subtitle-1 ml-1"},[e._v(" "+e._s(e.computedTheme?e.$t("app.on"):e.$t("app.off"))+" ")])],1),t(R.c,{attrs:{align:"center"}},[t(b.c,{attrs:{label:e.$t("app.lang")+" :",inset:"",color:"accent","hide-details":""},model:{value:e.computedLang,callback:function(t){e.computedLang=t},expression:"computedLang"}}),t("div",{staticClass:"text-subtitle-1 ml-1 mt-4 pt-1"},[e._v(" "+e._s(e.computedLang?"FranÃ§ais":"English")+" ")])],1)],1)],1)],1)],1)],1),t(E.c,[t(f.c,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(_.c,[t("TabCurrentGame",{ref:"currentGame",staticClass:"pa-4 pa-sm-12 pa-md-16 ma-md-4",attrs:{id:e.currentGameId,players:e.currentGamePlayers,version:e.currentGameVersion,gamesAndRules:e.gamesAndRules,appLoaded:e.appLoaded},on:{resetGameSession:function(t){return e.resetGameSession()},popUp:function(t){return e.popUp(t)},findVersion:function(t){return e.findVersion(t)}}})],1),t(_.c,[t("TabScoreboard",{staticClass:"pa-4 pa-sm-12 pa-md-16 ma-md-4",attrs:{gamesAndRules:e.gamesAndRules,darkTheme:e.computedTheme},on:{joinGame:function(t){return e.actOnJoinGame(t)},popUp:function(t){return e.popUp(t)}}})],1),t(_.c,[t("TabHelp",{staticClass:"pa-4 pa-sm-12 pa-md-16 ma-md-4"})],1)],1)],1),t(m.c,{attrs:{"max-width":"800"},on:{"click:outside":e.closeCreate},model:{value:e.dialogCreate,callback:function(t){e.dialogCreate=t},expression:"dialogCreate"}},[t(o.c,[t(U.c,{attrs:{flat:"",color:"primary",dark:""}},[t(D.mw,[e._v(e._s(e.$t("app.new.title")))])],1),t(c.c$,[t(g.c,{ref:"newGameForm",model:{value:e.newGameForm,callback:function(t){e.newGameForm=t},expression:"newGameForm"}},[t(u.c,{attrs:{fluid:""}},[t(R.c,{attrs:{align:"center"}},[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("app.new.type")))])]),t(l.c,{attrs:{cols:"12",md:"6"}},[t(S.c,{attrs:{solo:"",rules:[e.ruleNewVersion],color:"secondary",label:e.$t("app.new.version"),items:e.gamesAndRules.length>0?e.gamesAndRules:[],"item-text":"name","return-object":""},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})],1),t(l.c,{attrs:{cols:"12",md:"6"}},[t(T.c,[e._v(" "+e._s(e.$t("app.new.players"))+" ")]),t(y.c,{attrs:{min:"2",max:"5",color:"secondary",ticks:"always","tick-size":"3","tick-labels":["2","3","4","5"],"track-color":"grey-lighten2"},model:{value:e.players,callback:function(t){e.players=t},expression:"players"}})],1),t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("app.new.names"))+" ")])]),e._l(e.players,(function(s){return t(l.c,{key:s,attrs:{cols:"12",md:"6"}},[t(C.c,{attrs:{required:"",rules:[e.ruleNewPlayer],color:"secondary",label:e.computeLabel(s),clearable:""},model:{value:e.names[s],callback:function(t){e.$set(e.names,s,t)},expression:"names[player]"}})],1)})),t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("app.new.date"))+" ")])]),t(l.c,{attrs:{cols:"12",md:"6"}},[t(A.c,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(C.c,e._g(e._b({attrs:{label:e.$t("app.new.date-choice"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",i,!1),s))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(d.c,{attrs:{"header-color":"primary",color:"secondary"},on:{input:function(t){e.menu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],2)],1)],1)],1),t(c.iG,[t(N.c),t(r.c,{attrs:{large:"",text:"",color:"accent"},on:{click:e.closeCreate}},[e._v(" "+e._s(e.$t("main.btn.close"))+" ")]),t(r.c,{attrs:{large:"",disabled:!e.newGameForm,loading:e.loadingCreate,text:"",color:"secondary"},on:{click:e.createGame}},[e._v(e._s(e.$t("main.btn.create")))])],1)],1)],1),t(m.c,{attrs:{"max-width":"500"},model:{value:e.dialogWrongTickets,callback:function(t){e.dialogWrongTickets=t},expression:"dialogWrongTickets"}},[t(o.c,[t(U.c,{attrs:{flat:"",color:"secondary",dark:""}},[t(D.mw,[e._v(e._s(e.$t("app.warning.title")))])],1),t(c.c$,{staticClass:"text-body-1 tertiary--text"},[t(u.c,[t(R.c,[t(l.c,[t("span",[e._v(e._s(e.$t("app.warning.line-1-a")))]),t("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("app.warning.line-1-bold")))]),t("span",[e._v(e._s(e.$t("app.warning.line-1-b")))])])],1),t(R.c,[t(l.c,[t("div",[e._v(e._s(e.$t("app.warning.line-2")))])])],1)],1)],1),t(c.iG,[t(N.c),t(r.c,{attrs:{color:"secondary",text:""},on:{click:function(t){e.dialogWrongTickets=!1}}},[e._v(e._s(e.$t("main.btn.ok")))])],1)],1)],1),t(O.c,{attrs:{top:"",timeout:5e3,color:e.snackColor},model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v(" "+e._s(e.snackMsg)+" ")])],1)},k=[],G=s(120),x=function(){var e=this,t=e._self._c;return t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{color:"background"}},[t(U.c,{attrs:{flat:"",color:"primary",dark:""}},[t(D.mw,[e._v(e._s(e.$t("current.game.title")))]),t(N.c),t(h.c,{attrs:{large:""}},[e._v("mdi-map-legend")])],1),t(c.kd,[t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12",sm:"6"}},[t(R.c,[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.game.version")))])]),t(R.c,{attrs:{justify:"center","justify-sm":"start"}},[t(l.c,{attrs:{cols:"auto"}},[t(S.c,{staticClass:"mx-2",attrs:{solo:"","hide-details":"",color:"secondary",label:e.$t("current.game.version-label"),items:e.gamesAndRules,"item-text":"name","return-object":""},model:{value:e.selectVersion,callback:function(t){e.selectVersion=t},expression:"selectVersion"}})],1)],1)],1),t(l.c,{attrs:{cols:"12",sm:"6"}},[t(R.c,[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.game.score")))])]),t(R.c,{attrs:{justify:"center","justify-sm":"start"}},[t(l.c,{attrs:{cols:"auto"}},[t(G.c,{staticClass:"ml-sm-8",attrs:{"x-large":"",color:"secondary"}},[t("span",{staticClass:"text-h3"},[e._v(e._s(e.computedTotalScore))])])],1)],1)],1)],1),t(R.c,[t(l.c,{attrs:{cols:"12",sm:"6"}},[t(R.c,[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.game.save")))])]),t(R.c,{attrs:{align:"center",justify:"center","justify-sm":"start"}},[t(l.c,{attrs:{cols:"auto"}},[t(C.c,{staticClass:"ma-2",attrs:{solo:"","hide-details":"",label:e.$t("current.game.save-label"),placeholder:e.$t("current.game.save-placeholder")},model:{value:e.gameId,callback:function(t){e.gameId=t},expression:"gameId"}})],1)],1),t(R.c,{attrs:{align:"center",justify:"center","justify-sm":"start","no-gutters":""}},[t(l.c,{attrs:{cols:"auto"}},[t(r.c,{staticClass:"ma-2",attrs:{disabled:20!=e.gameId.length,large:"",color:"primary"},on:{click:e.openSaveGame}},[t(h.c,[e._v("mdi-content-save-outline")]),t("span",{staticClass:"ml-3 mr-1"},[e._v(e._s(e.$t("main.btn.save")))])],1)],1),t(l.c,{attrs:{cols:"auto"}},[t(r.c,{staticClass:"ma-2",attrs:{disabled:20!=e.gameId.length,large:"",color:"secondary"},on:{click:e.shareGameId}},[t(h.c,[e._v("mdi-share-variant")]),t("span",{staticClass:"ml-3 mr-1"},[e._v(e._s(e.$t("main.btn.share")))])],1)],1)],1)],1),t(l.c,{attrs:{cols:"12",sm:"6"}},[t(R.c,[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.game.reset")))])]),t(R.c,{attrs:{justify:"center","justify-sm":"start"}},[t(l.c,{attrs:{cols:"auto"}},[t(r.c,{staticClass:"ml-sm-8",attrs:{"x-large":"",color:"accent"},on:{click:function(t){return e.openReset("all")}}},[t(h.c,[e._v("mdi-restore")]),t("span",{staticClass:"ml-3 mr-1"},[e._v(e._s(e.$t("main.btn.reset")))])],1)],1)],1)],1)],1)],1)],1)],1)],1),t(l.c,{directives:[{name:"show",rawName:"v-show",value:null!=e.selectVersion,expression:"selectVersion != null"}],attrs:{cols:"12"}},[t("tickets-block",{ref:"tickets",attrs:{version:e.selectVersion,completionCount:e.computedCompletion},on:{"update-routes":function(t){return e.updateRoutes(t)}}})],1),t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.computedVersionHasHarbors,expression:"computedVersionHasHarbors"}],attrs:{cols:"12"}},[t("harbors-block",{ref:"harbors",attrs:{routes:e.routes,version:e.selectVersion},on:{"update-score":function(t){return e.updateHarborScore(t)}}})],1),t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.computedVersionHasTrainStations,expression:"computedVersionHasTrainStations"}],attrs:{cols:"12"}},[t("train-stations-block",{ref:"trainStations",attrs:{version:e.selectVersion},on:{"update-score":function(t){return e.updateTrainStationScore(t)}}})],1),t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.computedVersionHasBonuses,expression:"computedVersionHasBonuses"}],attrs:{cols:"12"}},[t("bonuses-block",{ref:"bonusesBlock",attrs:{numberOfBonuses:e.computedNumberOfBonuses,bonusScore:e.computedBonusScore,version:e.selectVersion,completedRoutes:e.computedCompletion},on:{"update-bonus":function(t){return e.handleBonusEvent(t)}}})],1),t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.computedVersionHasStockShares,expression:"computedVersionHasStockShares"}],attrs:{cols:"12"}},[t("stock-shares-block",{attrs:{version:e.selectVersion},on:{updateStockShareScore:function(t){return e.updateStockShareScore(t)}}})],1),t(l.c,{directives:[{name:"show",rawName:"v-show",value:null!=e.selectVersion,expression:"selectVersion != null"}],attrs:{cols:"12"}},[t("units-block",{ref:"units",attrs:{unitRules:e.selectVersion?.pointsPerRoute,hasBoats:e.computedVersionHasBoats,hasExchanges:e.computedVersionHasExchanges,availableUnitsOnStart:e.selectVersion?.units,threshold:e.selectVersion?.threshold},on:{hasThresholdBeenReached:function(t){return e.showThresholdWarning()},updateUnitScore:function(t){return e.updateUnitScore(t)}}})],1)],1),t(m.c,{attrs:{"max-width":"400"},model:{value:e.dialogReset,callback:function(t){e.dialogReset=t},expression:"dialogReset"}},[t(o.c,{attrs:{color:"background"}},[t(c.m6,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.getResetTitle(e.resetType)))])]),t(c.c$,[e._v(" "+e._s(e.$t("current.dialog.reset.subtitle"))+" ")]),t(c.iG,[t(N.c),t(r.c,{attrs:{color:"accent",text:""},on:{click:function(t){e.dialogReset=!1}}},[e._v(e._s(e.$t("main.btn.cancel")))]),t(r.c,{attrs:{color:"secondary",text:""},on:{click:function(t){return e.resetTypeOf()}}},[e._v(e._s(e.$t("main.btn.proceed")))])],1)],1)],1),t(m.c,{attrs:{"max-width":"500"},model:{value:e.dialogSaveGame,callback:function(t){e.dialogSaveGame=t},expression:"dialogSaveGame"}},[t(o.c,{attrs:{color:"background"}},[t(U.c,{attrs:{flat:"",color:"quaternary",dark:""}},[t(D.mw,[e._v(e._s(e.$t("current.dialog.save.title")))]),t(N.c),t(r.c,{attrs:{icon:""},on:{click:e.closeSaveGame}},[t(h.c,[e._v("mdi-close")])],1)],1),t(c.c$,[t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.dialog.save.subtitle")))])]),t(l.c,{attrs:{cols:"auto"}},[t(S.c,{attrs:{solo:"",loading:e.loadingOpenSaveGame,"error-messages":e.saveGameSelectErrorMessage,color:"secondary",label:e.$t("current.dialog.save.label"),items:e.selectPlayer},model:{value:e.selectedPlayer,callback:function(t){e.selectedPlayer=t},expression:"selectedPlayer"}})],1)],1)],1)],1),t(c.iG,[t(N.c),t(r.c,{attrs:{color:"accent",text:""},on:{click:e.closeSaveGame}},[e._v(e._s(e.$t("main.btn.cancel")))]),t(r.c,{attrs:{color:"secondary",loading:e.loadingSave,disabled:null==e.selectedPlayer,text:""},on:{click:e.saveGame}},[e._v(e._s(e.$t("main.btn.save")))])],1)],1)],1)],1)},P=[],M=(s(3248),s(8208),s(8592),function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"frag",rawName:"v-frag"}]},[t("card-layout",{attrs:{logo:"mdi-anchor",title:"current.harbors.title"},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-indicators",{attrs:{leftText:e.$t("current.harbors.indicators.left"),leftIndicator:e.topCities.length,centerText:e.$t("current.harbors.indicators.center"),centerIndicator:e.harbors.length,rightText:e.$t("current.harbors.indicators.right"),rightIndicator:e.totalScore}})]},proxy:!0},{key:"content",fn:function(){return[t("two-buttons",{attrs:{leftDisabledCondition:e.isHarborListFull,leftColor:"primary",leftIcon:"mdi-ship-wheel",leftText:e.$t("main.btn.add-harbor"),rightColor:"accent",rightIcon:"mdi-restore",rightText:e.$t("main.btn.reset")},on:{clickLeft:function(t){return e.openDialog()},clickRight:function(t){return e.reset()}}}),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.harbors.subtitle")))])]),t(l.c,{attrs:{cols:"12"}},[t(R.c,e._l(3,(function(s){return t(l.c,{key:s,attrs:{cols:"12",md:"4"}},[t("harbor-item",{ref:"harborItems",refInFor:!0,attrs:{isActive:e.harbors.length>=s,index:s,version:e.version,topSuccessfulCities:e.topSuccessfulCities,city:e.harbors[s-1]},on:{"update-item-score":function(t){return e.updateHarborScore(t)},"delete-item":function(t){return e.deleteHarbor(t)}}})],1)})),1)],1),t(l.c,{attrs:{cols:"12",md:"6"}},[t("simple-table",{attrs:{data:e.topCities,title:e.$t("current.harbors.tables.potential.title"),leftColumn:e.$t("current.harbors.tables.column-1"),rightColumn:e.$t("current.harbors.tables.column-2"),emptyText:e.$t("current.harbors.tables.potential.no-data")}})],1),t(l.c,{attrs:{cols:"12",md:"6"}},[t("simple-table",{attrs:{data:e.topSuccessfulCities,title:e.$t("current.harbors.tables.successful.title"),leftColumn:e.$t("current.harbors.tables.column-1"),rightColumn:e.$t("current.harbors.tables.column-2"),emptyText:e.$t("current.harbors.tables.successful.no-data")}})],1)],1)]},proxy:!0}])}),t("harbor-dialog",{attrs:{isActive:e.isDialogOpen,cities:e.allCitiesWithHarbor,harbors:e.harbors},on:{"close-dialog":function(t){return e.closeDialog()},"add-item":function(t){return e.addHarbor(t)}}})],1)}),w=[],H=function(){var e=this,t=e._self._c;return t("div",[t(u.c,{attrs:{fluid:""}},[t(R.c,{attrs:{justify:"center","justify-sm":"space-around"}},[t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.leftCondition,expression:"leftCondition"}],staticClass:"mx-8 mx-sm-0",attrs:{cols:"auto"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(e.leftText))]),t("span",{staticClass:"ml-4 text-h3"},[e._v(e._s(e.leftIsPercentage?`${(100*e.leftIndicator).toFixed(1)} %`:e.leftIndicator))])]),t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.centerCondition,expression:"centerCondition"}],staticClass:"mx-8 mx-sm-0",attrs:{cols:"auto"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(e.centerText))]),t("span",{staticClass:"ml-4 text-h3"},[e._v(e._s(e.centerIsPercentage?`${(100*e.centerIndicator).toFixed(1)} %`:e.centerIndicator))])]),t(l.c,{directives:[{name:"show",rawName:"v-show",value:e.rightCondition,expression:"rightCondition"}],staticClass:"mx-8 mx-sm-0",attrs:{cols:"auto"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(e.rightText))]),t("span",{staticClass:"ml-4 text-h3"},[e._v(e._s(e.rightIsPercentage?`${(100*e.rightIndicator).toFixed(1)} %`:e.rightIndicator))])])],1)],1)],1)},$=[],W={name:"BaseIndicators",props:{leftText:{type:String,default:""},leftIndicator:{type:Number,default:0},leftCondition:{type:Boolean,default:!0},leftIsPercentage:{type:Boolean,default:!1},centerText:{type:String,default:""},centerIndicator:{type:Number,default:0},centerCondition:{type:Boolean,default:!0},centerIsPercentage:{type:Boolean,default:!1},rightText:{type:String,default:""},rightIndicator:{type:Number,default:0},rightCondition:{type:Boolean,default:!0},rightIsPercentage:{type:Boolean,default:!1}}},V=W,F=s(2528),K=(0,F.c)(V,H,$,!1,null,null,null),Y=K.exports,j=function(){var e=this,t=e._self._c;return t(o.c,{attrs:{color:"background"}},[t(U.c,{attrs:{flat:"",color:"primary",dark:""}},[t(D.mw,[e._v(e._s(e.translatedTitle))]),t(N.c),t(h.c,{attrs:{large:""}},[e._v(e._s(e.logo))])],1),t(c.kd,[e._t("header")],2),t(c.c$,[t(u.c,{attrs:{fluid:""}},[e._t("content")],2)],1)],1)},J=[],z={name:"CardLayout",props:{title:{type:String,default:""},logo:{type:String,default:""}},computed:{translatedTitle:{get(){return this.$t(this.title)??""}}},data:()=>({})},Z=z,q=(0,F.c)(Z,j,J,!1,null,null,null),Q=q.exports,X=s(9128),ee=function(){var e=this,t=e._self._c;return t("div",[t(R.c,[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.title))])]),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:""}},[t(X.c,{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"primaryLight text-left darkenBlack--text"},[e._v(" "+e._s(e.leftColumn)+" ")]),t("th",{staticClass:"primaryLight text-left darkenBlack--text"},[e._v(" "+e._s(e.rightColumn)+" ")])])]),t("tbody",{directives:[{name:"show",rawName:"v-show",value:e.data.length>0,expression:"data.length > 0"}]},e._l(e.data,(function(s){return t("tr",{key:s.city},[t("td",[e._v(e._s(s.city))]),t("td",[e._v(e._s(s.count))])])})),0),t("tbody",{directives:[{name:"show",rawName:"v-show",value:0==e.data.length,expression:"data.length == 0"}]},[t("tr",[t("td",{attrs:{colspan:"2"}},[e._v(e._s(e.emptyText))])])])]},proxy:!0}])})],1)],1)],1)],1)},te=[],se={props:{title:{type:String,default:""},leftColumn:{type:String,default:""},rightColumn:{type:String,default:""},data:{type:Array,default:()=>[]},emptyText:{type:String,default:"No data"}}},ie=se,ae=(0,F.c)(ie,ee,te,!1,null,null,null),ne=ae.exports,re=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"frag",rawName:"v-frag"}]},[t(R.c,{attrs:{justify:"center","justify-sm":e.leftActive?"space-between":"end"}},[e.leftActive?t(l.c,{attrs:{cols:"auto"}},[t(r.c,{attrs:{"x-large":"",disabled:e.leftDisabledCondition,color:e.leftColor},on:{click:function(t){return e.notify("clickLeft")}}},[t(h.c,[e._v(e._s(e.leftIcon))]),t("span",{staticClass:"ml-3 mr-1"},[e._v(e._s(e.leftText))])],1)],1):e._e(),t(l.c,{attrs:{cols:"auto"}},[t(r.c,{attrs:{"x-large":"",color:e.rightColor},on:{click:function(t){return e.notify("clickRight")}}},[t(h.c,[e._v(e._s(e.rightIcon))]),t("span",{staticClass:"ml-3 mr-1"},[e._v(e._s(e.rightText))])],1)],1)],1)],1)},oe=[],ce={props:{leftIcon:{type:String,default:""},leftText:{type:String,default:""},leftColor:{type:String,default:"primary"},leftDisabledCondition:{type:Boolean,default:!1},leftActive:{type:Boolean,default:!0},rightIcon:{type:String,default:""},rightText:{type:String,default:""},rightColor:{type:String,default:"primary"}},methods:{notify(e){this.$emit(e)}}},le=ce,ue=(0,F.c)(le,re,oe,!1,null,null,null),de=ue.exports,me=function(){var e=this,t=e._self._c;return t(m.c,{attrs:{"max-width":"660"},on:{"click:outside":function(t){return e.closeAddHarbor()}},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[t(o.c,{attrs:{color:"background"}},[t(U.c,{attrs:{flat:"",color:"quaternary",dark:""}},[t(D.mw,[e._v(" "+e._s(e.$t("current.dialog.add-harbor.title"))+" ")]),t(N.c),t(r.c,{attrs:{icon:""},on:{click:function(t){return e.closeAddHarbor()}}},[t(h.c,[e._v("mdi-close")])],1)],1),t(c.c$,[t(g.c,{ref:"harborForm",model:{value:e.harborForm,callback:function(t){e.harborForm=t},expression:"harborForm"}},[t(u.c,{attrs:{fluid:""}},[t(R.c,{attrs:{align:"center"}},[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("current.dialog.add-harbor.subtitle"))+" ")])]),t(l.c,{attrs:{cols:"12"}},[t(S.c,{attrs:{items:e.cities,rules:e.rule,solo:"",label:e.$t("current.dialog.add-harbor.label"),"error-messages":e.harbors.includes(e.selectedHarbor)?e.$t("current.dialog.add-harbor.error"):""},model:{value:e.selectedHarbor,callback:function(t){e.selectedHarbor=t},expression:"selectedHarbor"}})],1)],1)],1)],1)],1),t(c.iG,[t(N.c),t(r.c,{attrs:{large:"",text:"",color:"accent"},on:{click:function(t){return e.closeAddHarbor()}}},[e._v(" "+e._s(e.$t("main.btn.close"))+" ")]),t(r.c,{attrs:{large:"",disabled:!e.harborForm||e.harbors.includes(e.selectedHarbor),text:"",color:"secondary"},on:{click:function(t){return e.addHarbor()}}},[e._v(e._s(e.$t("main.btn.add-harbor")))])],1)],1)],1)},pe=[],ge={name:"HarborDialog",props:{isActive:{type:Boolean,default:!1},cities:{type:Array,default:()=>[]},harbors:{type:Array,default:()=>[]}},watch:{isActive:{immediate:!1,handler(e){e||this.closeAddHarbor()}}},data:()=>({harborForm:!1,selectedHarbor:null,rule:[e=>!!e||"A city is required"]}),methods:{addHarbor(){this.$emit("add-item",{city:this.selectedHarbor}),this.selectedHarbor=null,this.$refs.harborForm.resetValidation()},closeAddHarbor(){this.$emit("close-dialog"),this.selectedHarbor=null,setTimeout((()=>{this.$refs.harborForm.resetValidation()}),50)}}},he=ge,Ee=(0,F.c)(he,me,pe,!1,null,null,null),Ae=Ee.exports,Re=function(){var e=this,t=e._self._c;return t(o.c,{attrs:{outlined:"",disabled:!e.isActive}},[t(c.m6,[t("span",[e._v(e._s(e.$t("current.harbors.card.title",{id:e.index})))]),t(N.c),e.isActive?t(h.c,{attrs:{large:"",color:"red"},on:{click:function(t){return e.deleteHarbor()}}},[e._v(" mdi-close ")]):e._e()],1),t(c.c$,{staticClass:"my-n3"},[t(u.c,{attrs:{fluid:""}},[t(R.c,{staticClass:"text-body-1",attrs:{align:"center"}},[t(l.c,{attrs:{cols:"12"}},[t(h.c,{staticClass:"mx-4",attrs:{color:e.isActive?"primary":void 0}},[e._v(" mdi-city-variant ")]),e.isActive?t("span",[e._v(e._s(e.city))]):t("span",[e._v(e._s(e.$t("current.harbors.card.no-city")))])],1)],1),t(R.c,{staticClass:"text-body-1",attrs:{align:"center"}},[t(l.c,{attrs:{cols:"12"}},[t(h.c,{staticClass:"mx-4",attrs:{color:e.isActive?"accent":void 0}},[e._v(" mdi-medal-outline ")]),t("span",[e._v(e._s(e.score))])],1)],1)],1)],1)],1)},Se=[],ye={name:"HarborItem",props:{isActive:{type:Boolean,default:!1},version:{type:Object,default:()=>{}},topSuccessfulCities:{type:Array,default:()=>[]},index:{type:Number,default:0},city:{type:String,default:""}},computed:{score:{get(){return this.isActive?this.computeScoreFromSuccessfulCities():this.version?.pointsPerUnsetHarbor??0}}},watch:{score:{immediate:!0,handler(e,t){null!=e&&this.$emit("update-item-score",{index:this.index,update:e-(t??0)})}}},data:()=>({}),methods:{getItemScore(){return this.isActive?{city:this.city,score:this.score}:null},computeScoreFromSuccessfulCities(){const e=this.topSuccessfulCities.find((e=>e.city==this.city))?.count??0;return this.version?.harborRule?.[Math.min(e,3)-1]??0},deleteHarbor(){this.$emit("delete-item",{index:this.index})}}},Oe=ye,Ne=(0,F.c)(Oe,Re,Se,!1,null,null,null),Te=Ne.exports,be={name:"HarborsBlock",inject:["localStorageService"],components:{CardLayout:Q,BaseIndicators:Y,HarborDialog:Ae,HarborItem:Te,TwoButtons:de,SimpleTable:ne},props:{version:{type:Object,default:()=>{}},routes:{type:Array,default:()=>[]}},computed:{successfulRoutes:{get(){return this.routes?.filter((e=>"Fail"!==e.status))??[]}},topCities:{get(){const e=this.extractCitiesWithHarbors(this.routes??[]);return this.convertToOrderedListWithCount(e)}},topSuccessfulCities:{get(){const e=this.extractCitiesWithHarbors(this.successfulRoutes);return this.convertToOrderedListWithCount(e)}},allCitiesWithHarbor:{get(){if(!this.version)return[];const e=this.version.tickets.map((e=>e.cities.filter((e=>e.anchor)).map((e=>e.name)))).flat();return[...new Set(e)].sort()}},isHarborListFull:{get(){return Boolean(this.harbors?.length>2)}},isDialogOpen:{get(){return this.isDialogActive&&!this.isHarborListFull}}},watch:{harbors:{handler(e){e&&this.localStorageService.setHarbors(e)}},totalScore:{handler(e){null!=e&&this.$emit("update-score",{score:e})}}},data:()=>({isDialogActive:!1,harbors:[],totalScore:0}),methods:{reset(){this.harbors=[]},getScoreByCity(){return this.$refs.harborItems?.map((e=>e.getItemScore()))?.filter((e=>e))??[]},openDialog(){this.isDialogActive=!0},closeDialog(){this.isDialogActive=!1},updateHarborScore({update:e}){this.totalScore+=e},addHarbor({city:e}){this.harbors.push(e)},deleteHarbor({index:e}){this.harbors.splice(e-1,1)},extractCitiesWithHarbors(e){return e.map((e=>e.cities)).flat().filter((e=>e.anchor)).map((e=>e.name))??[]},convertToOrderedListWithCount(e){const t=e?.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{});return Object.keys(t).map((e=>({city:e,count:t[e]}))).sort(((e,t)=>t.count-e.count))}},mounted(){this.harbors=this.localStorageService.getHarbors()}},Ie=be,_e=(0,F.c)(Ie,M,w,!1,null,null,null),Le=_e.exports,fe=function(){var e=this,t=e._self._c;return t("card-layout",{attrs:{logo:"mdi-trophy-award",title:"current.bonuses.title"},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-indicators",{attrs:{leftText:e.$t("current.bonuses.indicators.left"),leftIndicator:e.numberOfBonuses,centerCondition:!1,rightText:e.$t("current.bonuses.indicators.right"),rightIndicator:e.bonusScore}})]},proxy:!0},{key:"content",fn:function(){return[t("two-buttons",{attrs:{leftActive:!1,rightColor:"accent",rightIcon:"mdi-restore",rightText:e.$t("main.btn.reset")},on:{clickRight:function(t){return e.reset()}}}),t("bonus-longest",{ref:"longestBonus",attrs:{version:e.version},on:{"update-bonus":function(t){return e.updateBonus(t)}}}),t("bonus-globe-trotter",{ref:"globeTrotterBonus",attrs:{version:e.version},on:{"update-bonus":function(t){return e.updateBonus(t)}}}),t("bonus-mandala",{ref:"mandalaBonus",attrs:{version:e.version},on:{"update-bonus":function(t){return e.updateBonus(t)}}}),t("bonus-united-kingdom",{ref:"unitedKingdomBonus",attrs:{version:e.version,completedRoutes:e.completedRoutes},on:{"update-bonus":function(t){return e.updateBonus(t)}}})]},proxy:!0}])})},ve=[],Ce=function(){var e=this,t=e._self._c;return t("bonus-item-counter",{ref:"bonusItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.mandala"),minCount:0,maxCount:56,logo:"mdi-vector-circle"},on:{"value-change":function(t){return e.updateCountScore(t)}}})},Ue=[],De=function(){var e=this,t=e._self._c;return e.isActive?t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.title))])])],1),t(R.c,{staticClass:"ml-sm-4",attrs:{align:"center",justify:"center","justify-sm":"start"}},[t(r.c,{attrs:{large:"",icon:"",disabled:e.bonus===e.minCount},on:{click:function(t){return e.updateValue(-1)}}},[t(h.c,{attrs:{color:"red"}},[e._v("mdi-minus")])],1),t("span",{staticClass:"text-h6 counter"},[e._v(e._s(e.bonus))]),t(r.c,{attrs:{large:"",icon:"",disabled:e.bonus===e.maxCount},on:{click:function(t){return e.updateValue(1)}}},[t(h.c,{attrs:{color:"green"}},[e._v("mdi-plus")])],1),t(h.c,{staticClass:"ml-4"},[e._v(e._s(e.logo))])],1)],1):e._e()},Be=[],ke={name:"BonusItemCounter",props:{isActive:{type:Boolean,default:!1},title:{type:String,default:""},minCount:{type:Number,default:0},maxCount:{type:Number,default:1},logo:{type:String}},data:()=>({bonus:0}),watch:{bonus:{handler(e){this.$emit("value-change",{value:e})}}},methods:{updateValue(e){this.bonus+=e},setBonus(e){this.bonus=e}}},Ge=ke,xe=(0,F.c)(Ge,De,Be,!1,null,"5a1b80d0",null),Pe=xe.exports,Me={components:{BonusItemCounter:Pe},name:"BonusMandala",inject:["localStorageService"],props:{version:{type:Object,default:()=>{}}},computed:{isActive:{get(){return Boolean(this.version?.hasBonusMandala)}}},methods:{resetBonus(){this.$refs.bonusItem.setBonus(0)},updateCountScore(e){const t=e.value,s=this.computeScore(t);this.sendEvent({count:t,score:s}),this.localStorageService.setMandala(t)},computeScore(e){let t=0;switch(e){case 0:t=0;break;case 1:t=5;break;case 2:t=10;break;case 3:t=20;break;case 4:t=30;break;default:t=40;break}return t},sendEvent(e){this.$emit("update-bonus",{name:"mandala",...e})}},mounted(){const e=this.localStorageService?.getMandala()??0;this.$refs.bonusItem.setBonus(e)}},we=Me,He=(0,F.c)(we,Ce,Ue,!1,null,null,null),$e=He.exports,We=function(){var e=this,t=e._self._c;return t("bonus-item-counter",{ref:"bonusItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.longest-path"),minCount:0,maxCount:1,logo:"mdi-transit-connection-variant"},on:{"value-change":function(t){return e.updateCountScore(t)}}})},Ve=[],Fe={components:{BonusItemCounter:Pe},name:"BonusLongest",inject:["localStorageService"],props:{version:{type:Object,default:()=>{}}},computed:{isActive:{get(){return Boolean(this.version?.hasLongest)}}},methods:{resetBonus(){this.$refs.bonusItem.setBonus(0)},updateCountScore(e){const t=e.value,s=this.computeScore(t);this.sendEvent({count:t,score:s}),this.localStorageService.setLongest(t)},computeScore(e=0){const t=this.version?.longestPoints??0,s=e*t;return isNaN(s)?0:s},sendEvent(e){this.$emit("update-bonus",{name:"longest",...e})}},mounted(){const e=this.localStorageService?.getLongest()??0;this.$refs.bonusItem.setBonus(e)}},Ke=Fe,Ye=(0,F.c)(Ke,We,Ve,!1,null,null,null),je=Ye.exports,Je=function(){var e=this,t=e._self._c;return t("bonus-item-counter",{ref:"bonusItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.globe-trotter"),minCount:0,maxCount:1,logo:"mdi-earth-plus"},on:{"value-change":function(t){return e.updateCountScore(t)}}})},ze=[],Ze={components:{BonusItemCounter:Pe},name:"BonusGlobeTrotter",inject:["localStorageService"],props:{version:{type:Object,default:()=>{}}},computed:{isActive:{get(){return Boolean(this.version?.hasBonusGlobeTrotter)}}},methods:{resetBonus(){this.$refs.bonusItem.setBonus(0)},updateCountScore(e){const t=e.value,s=this.computeScore(t);this.sendEvent({count:t,score:s}),this.localStorageService.setGlobeTrotter(t)},computeScore(e=0){const t=this.version?.bonusGlobeTrotter??0,s=e*t;return isNaN(s)?0:s},sendEvent(e){this.$emit("update-bonus",{name:"globeTrotter",...e})}},mounted(){const e=this.localStorageService?.getGlobeTrotter()??0;this.$refs.bonusItem.setBonus(e)}},qe=Ze,Qe=(0,F.c)(qe,Je,ze,!1,null,null,null),Xe=Qe.exports,et=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"frag",rawName:"v-frag"}]},[t("bonus-item-counter",{ref:"doubleHeadingItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.uk.double-heading"),minCount:0,maxCount:1,logo:"mdi-checkbox-marked-circle-plus-outline"},on:{"value-change":function(t){return e.updateDoubleHeadingScore(t)}}}),t("bonus-item-counter",{ref:"riskyContractsItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.uk.risky-contracts"),minCount:-1,maxCount:1,logo:"mdi-invoice-text-plus-outline"},on:{"value-change":function(t){return e.updateRiskyContractsScore(t)}}}),t("bonus-item-counter",{ref:"equalisingBeamItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.uk.equalising-beam"),minCount:-1,maxCount:1,logo:"mdi-transit-connection-variant"},on:{"value-change":function(t){return e.updateEqualisingBeamScore(t)}}}),t("bonus-item-counter",{ref:"boilerLaggingItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.uk.boiler-lagging"),minCount:0,maxCount:1,logo:e.plusOneIcon},on:{"value-change":function(t){return e.updateBoilerLaggingBonus(t)}}}),t("bonus-item-counter",{ref:"steamTurbinesItem",attrs:{isActive:e.isActive,title:e.$t("current.bonuses.uk.steam-turbines"),minCount:0,maxCount:1,logo:e.plusTwoIcon},on:{"value-change":function(t){return e.updateSteamTurbinesBonus(t)}}})],1)},tt=[];const st="M20 18V5h-.3L15 6.7v1.7l3-1.02V18zm-10-1v-4h4v-2h-4V7H8v4H4v2h4v4z",it="M8 17v-4h4v-2H8V7H6v4H2v2h4v4zm11.95-4.96c.32-.39.59-.78.82-1.17c.23-.39.41-.78.54-1.17c.13-.39.19-.79.19-1.18c0-.53-.09-1.02-.27-1.46s-.44-.81-.78-1.11c-.34-.31-.77-.54-1.26-.71A5.72 5.72 0 0 0 17.47 5c-.69 0-1.31.11-1.85.32c-.54.21-1 .51-1.36.88c-.37.37-.65.8-.84 1.3c-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87c.09-.29.23-.54.4-.75c.18-.21.41-.37.68-.49c.27-.12.6-.18.96-.18c.31 0 .58.05.81.15s.43.25.59.43c.16.18.28.4.37.65c.08.25.13.52.13.81c0 .22-.03.43-.08.65c-.06.22-.15.45-.29.7c-.14.25-.32.53-.56.83c-.23.3-.52.65-.88 1.03l-4.17 4.55V18H22v-1.71h-5.95l2.86-3.07c.38-.39.72-.79 1.04-1.18",at={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},nt={doubleHeading:{count:0,score:0},riskyContracts:{count:0,score:0},equalisingBeam:{count:0,score:0},boilerLagging:{count:0,score:0},steamTurbines:{count:0,score:0}},rt={PLUS_ONE:"plus-one",PLUS_TWO:"plus-two"};var ot={components:{BonusItemCounter:Pe},name:"BonusUnitedKingdom",inject:["bonusService"],props:{version:{type:Object,default:()=>{}},completedRoutes:{type:Number,default:0}},watch:{completedRoutes:{handler(e){if(null==e)return;const t={value:this.doubleHeadingBonus};this.updateDoubleHeadingScore(t)}}},computed:{activeUnitBonuses:{get(){const e=[];return this.boilerLaggingBonus&&e.push(rt.PLUS_ONE),this.steamTurbinesBonus&&e.push(rt.PLUS_TWO),e}},isActive:{get(){return Boolean(this.version?.hasUnitedKingdomBonus)}}},data:()=>({doubleHeadingBonus:0,plusOneIcon:st,plusTwoIcon:it,steamTurbinesBonus:0,steamTurbinesScore:0,boilerLaggingBonus:0,boilerLaggingScore:0}),methods:{resetBonus(){Object.values(this.$refs).forEach((e=>e.setBonus(0))),this.bonusService.resetBonuses()},resetUnitBonusScore(){this.steamTurbinesScore=0,this.boilerLaggingScore=0,this.sendEvent({steamTurbines:{count:this.steamTurbinesBonus,score:0},boilerLagging:{count:this.boilerLaggingBonus,score:0}})},updateDoubleHeadingScore(e){const t=e.value,s=2*t*this.completedRoutes;this.doubleHeadingBonus=t,this.sendEvent({doubleHeading:{count:t,score:s}})},updateRiskyContractsScore(e){const t=e.value,s=20*t;this.sendEvent({riskyContracts:{count:Math.abs(t),score:s}})},updateEqualisingBeamScore(e){const t=e.value,s=15*t;this.sendEvent({equalisingBeam:{count:Math.abs(t),score:s}})},updateBoilerLaggingBonus(e){const t=e.value;this.boilerLaggingBonus=t,0===t&&(this.boilerLaggingScore=0),this.sendEvent({boilerLagging:{count:t,score:this.boilerLaggingScore}}),this.broadcastActiveUnitBonuses()},updateBoilerLaggingScore(e){e&&(this.boilerLaggingScore+=e,this.sendEvent({boilerLagging:{count:this.boilerLaggingBonus,score:this.boilerLaggingScore}}))},updateSteamTurbinesBonus(e){const t=e.value;this.steamTurbinesBonus=t,0===t&&(this.steamTurbinesScore=0),this.sendEvent({steamTurbines:{count:t,score:this.steamTurbinesScore}}),this.broadcastActiveUnitBonuses()},updateSteamTurbinesScore(e){e&&(this.steamTurbinesScore+=2*e,this.sendEvent({steamTurbines:{count:this.steamTurbinesBonus,score:this.steamTurbinesScore}}))},sendEvent(e){this.$emit("update-bonus",{name:"uk",...e})},broadcastActiveUnitBonuses(){this.bonusService.setBonusesRelatedToUnits(this.activeUnitBonuses)}},mounted(){this.bonusService.getUnitsWithBonusObservable().subscribe((e=>{e?.name!==rt.PLUS_ONE?e?.name!==rt.PLUS_TWO?this.resetUnitBonusScore():this.updateSteamTurbinesScore(e?.update):this.updateBoilerLaggingScore(e?.update)}))}},ct=ot,lt=(0,F.c)(ct,et,tt,!1,null,null,null),ut=lt.exports,dt={name:"BonusesBlock",components:{BonusMandala:$e,BonusLongest:je,BonusGlobeTrotter:Xe,TwoButtons:de,BaseIndicators:Y,BonusUnitedKingdom:ut,CardLayout:Q},props:{numberOfBonuses:{type:Number,default:0},bonusScore:{type:Number,default:0},version:{type:Object,default:()=>{}},completedRoutes:{type:Number,default:0}},methods:{reset(){this.$refs.mandalaBonus.resetBonus(),this.$refs.longestBonus.resetBonus(),this.$refs.globeTrotterBonus.resetBonus(),this.$refs.unitedKingdomBonus.resetBonus()},updateBonus(e){this.$emit("update-bonus",e)}}},mt=dt,pt=(0,F.c)(mt,fe,ve,!1,null,null,null),gt=pt.exports,ht=function(){var e=this,t=e._self._c;return t("card-layout",{attrs:{logo:"mdi-label-percent",title:"current.stock-shares.title"},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-indicators",{attrs:{leftText:e.$t("current.stock-shares.indicators.left"),leftIndicator:e.nbOfStockShares,centerCondition:!1,rightText:e.$t("current.stock-shares.indicators.right"),rightIndicator:e.score}})]},proxy:!0},{key:"content",fn:function(){return[t("two-buttons",{attrs:{leftActive:!1,rightColor:"accent",rightIcon:"mdi-restore",rightText:e.$t("main.btn.reset")},on:{clickRight:function(t){return e.reset()}}}),e._l(e.stockSharesList,(function(s,i){return t("stock-share-item",{key:i,ref:"stockShare",refInFor:!0,attrs:{name:s.name,scores:s.scores},on:{"update-score":function(t){return e.updateStockShareScore(t)}}})}))]},proxy:!0}])})},Et=[],At=s(1296),Rt=function(){var e=this,t=e._self._c;return t(u.c,{attrs:{fluid:""}},[t(R.c,{attrs:{"no-gutters":""}},[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-subtitle-1 tertiary--text"},[e._v(e._s(e.name))])]),t(l.c,[t(At.c,{attrs:{"active-class":"success success--text"},model:{value:e.stockShareScore,callback:function(t){e.stockShareScore=t},expression:"stockShareScore"}},e._l(e.scores,(function(s){return t(G.c,{key:s,staticClass:"drop-focus-on-click",attrs:{value:s,outlined:"",filter:""}},[e._v(" "+e._s(s)+" ")])})),1)],1)],1)],1)},St=[],yt={name:"StockShare",props:{name:{type:String,default:""},scores:{type:Array,default:()=>[]}},data:()=>({stockShareScore:0}),watch:{stockShareScore:{handler(e){this.updateScore(e)}}},methods:{reset(){this.updateScore(0)},updateScore(e){const t={name:this.name,value:e};this.stockShareScore=e??0,this.$emit("update-score",t)}}},Ot=yt,Nt=(0,F.c)(Ot,Rt,St,!1,null,"78bc4a3a",null),Tt=Nt.exports,bt={name:"StockSharesBlock",components:{BaseIndicators:Y,StockShareItem:Tt,TwoButtons:de,CardLayout:Q},props:{version:{type:Object,default:()=>{}}},computed:{stockSharesList:{get(){return this.version?.stockSharesList}},score:{get(){const e=this.scoresForAllStockShares?.reduce(((e,t)=>e+t.score),0);return this.$emit("updateStockShareScore",{scoresForAllStockShares:this.scoresForAllStockShares,totalScore:e}),e}},nbOfStockShares:{get(){const e=this.scoresForAllStockShares?.filter((e=>e.score>0));return e.length}}},watch:{stockSharesList:{handler(e){e&&(this.scoresForAllStockShares=e?.map((e=>({name:e.name,score:0}))))}}},data:()=>({scoresForAllStockShares:[]}),methods:{reset(){this.$refs.stockShare?.forEach((e=>e.reset()))},updateStockShareScore(e){this.scoresForAllStockShares=this.scoresForAllStockShares.map((t=>t.name===e.name?{name:t.name,score:e.value}:t))}}},It=bt,_t=(0,F.c)(It,ht,Et,!1,null,null,null),Lt=_t.exports,ft=function(){var e=this,t=e._self._c;return t(o.c,{attrs:{color:"background"}},[t(U.c,{attrs:{flat:"",color:"primary",dark:""}},[t(D.mw,[e._v(e._s(e.$t("current.units.title")))]),t(N.c),t(h.c,{attrs:{large:""}},[e._v("mdi-train")])],1),t(c.kd,[t("base-indicators",{attrs:{leftText:e.$t("current.units.indicators.left"),leftIndicator:e.numberOfUnits,centerText:e.$t("current.units.indicators.center"),centerIndicator:e.availableUnits,rightText:e.$t("current.units.indicators.right"),rightIndicator:e.score}})],1),t(c.c$,[t(u.c,{attrs:{fluid:""}},[t("two-buttons",{attrs:{leftActive:!1,rightColor:"accent",rightIcon:"mdi-restore",rightText:e.$t("main.btn.reset")},on:{clickRight:function(t){return e.openReset()}}}),t("units-bonus-selector",{ref:"bonusSelector",on:{"update-bonus-selection":function(t){return e.updateActiveBonuses(t)}}}),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("current.units.subtitle-1")))])])],1),e._l(e.possibleUnitsLength,(function(s){return t("unit-counter",{key:s,attrs:{numberOfUnits:s,currentTotal:e.units[s],hasBoats:e.hasBoats,availableUnits:e.availableUnits},on:{"update-value":function(t){return e.updateUnitCount(t)}}})})),t("exchange-section",{attrs:{isActive:e.hasExchanges,exchanges:e.exchanges},on:{"update-value":function(t){return e.updateExchanges(t)}}})],2)],1)],1)},vt=[],Ct=function(){var e=this,t=e._self._c;return t(R.c,{staticClass:"ml-sm-4",attrs:{align:"center",justify:"center","justify-sm":"start","no-gutters":""}},[t(r.c,{attrs:{large:"",icon:"",disabled:0==e.currentTotal},on:{click:function(t){return e.updateValue(-1)}}},[t(h.c,{attrs:{color:"red"}},[e._v("mdi-minus")])],1),t("span",{staticClass:"text-h6"},[e._v(e._s(e.currentTotal))]),t(r.c,{attrs:{large:"",icon:"",disabled:e.availableUnits<e.numberOfUnits},on:{click:function(t){return e.updateValue(1)}}},[t(h.c,{attrs:{color:"green"}},[e._v("mdi-plus")])],1),t("span",{staticClass:"ml-4 text-h6"},[e._v(e._s(e.numberOfUnits)+"x")]),t(h.c,[e._v("mdi-train")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasBoats,expression:"hasBoats"}],staticClass:"text-h6"},[e._v("/")]),t(h.c,{directives:[{name:"show",rawName:"v-show",value:e.hasBoats,expression:"hasBoats"}]},[e._v("mdi-ferry")])],1)},Ut=[],Dt={props:{currentTotal:{type:Number,default:0},numberOfUnits:{type:Number,required:!0},hasBoats:{type:Boolean},availableUnits:{type:Number}},methods:{updateValue(e){const t={unit:this.numberOfUnits,update:e};this.$emit("update-value",t)}}},Bt=Dt,kt=(0,F.c)(Bt,Ct,Ut,!1,null,null,null),Gt=kt.exports,xt=s(9356);function Pt(e){return e.type===xt.E.TOUR}function Mt(e,t){return e+t}var wt=function(){var e=this,t=e._self._c;return e.hasActiveUnitsBonuses?t("div",{directives:[{name:"frag",rawName:"v-frag"}]},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("current.units.subtitle-optional"))+" ")]),t(At.c,{attrs:{multiple:"","active-class":"success success--text"},model:{value:e.selectedBonus,callback:function(t){e.selectedBonus=t},expression:"selectedBonus"}},e._l(e.bonuses,(function(s){return t(G.c,{key:s,staticClass:"drop-focus-on-click",attrs:{value:s,outlined:"",filter:""}},[e._v(" "+e._s(e.$t(`current.units.bonuses.${s}`))+" ")])})),1)],1)],1)],1):e._e()},Ht=[],$t={name:"UnitsBonusSelector",inject:["bonusService"],data:()=>({selectedBonus:[],bonuses:[]}),computed:{hasActiveUnitsBonuses:{get(){return this.bonuses?.length>0}}},watch:{bonuses:{handler(e){0===e?.length&&this.reset()}},selectedBonus:{handler(e){this.$emit("update-bonus-selection",{value:e??[]})}}},methods:{reset(){this.selectedBonus=[]}},mounted(){this.bonusService.getBonusesRelatedToUnitsObservable().subscribe((e=>{this.bonuses=e??[]}))}},Wt=$t,Vt=(0,F.c)(Wt,wt,Ht,!1,null,"216abbee",null),Ft=Vt.exports,Kt=function(){var e=this,t=e._self._c;return e.isActive?t("div",{directives:[{name:"frag",rawName:"v-frag"}]},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("current.units.subtitle-2"))+" ")])])],1),t(R.c,{staticClass:"ml-sm-4",attrs:{align:"center",justify:"center","justify-sm":"start","no-gutters":""}},[t(r.c,{attrs:{large:"",icon:"",disabled:0===e.exchanges},on:{click:function(t){return e.updateValue(-1)}}},[t(h.c,{attrs:{color:"red"}},[e._v("mdi-minus")])],1),t("span",{staticClass:"text-h6"},[e._v(e._s(e.exchanges))]),t(r.c,{attrs:{large:"",icon:""},on:{click:function(t){return e.updateValue(1)}}},[t(h.c,{attrs:{color:"green"}},[e._v("mdi-plus")])],1),t(h.c,{staticClass:"ml-4"},[e._v("mdi-autorenew")])],1)],1):e._e()},Yt=[],jt={name:"ExchangeSection",props:{isActive:{type:Boolean,default:!1},exchanges:{type:Number,default:0,required:!0}},methods:{updateValue(e){this.$emit("update-value",{update:e})}}},Jt=jt,zt=(0,F.c)(Jt,Kt,Yt,!1,null,null,null),Zt=zt.exports,qt={name:"UnitsBlock",components:{BaseIndicators:Y,UnitCounter:Gt,TwoButtons:de,UnitsBonusSelector:Ft,ExchangeSection:Zt},inject:["localStorageService","bonusService"],props:{unitRules:{type:Object,default:()=>{}},availableUnitsOnStart:{type:Number},threshold:{type:Number},hasExchanges:{type:Boolean,default:!1},hasBoats:{type:Boolean,default:!1}},data:()=>({score:0,numberOfUnits:0,exchanges:0,units:structuredClone(at),activeUnitBonuses:[]}),computed:{availableUnits:{get(){return this.availableUnitsOnStart-this.numberOfUnits}},possibleUnitsLength:{get(){return this.unitRules?Object.keys(this.unitRules).map((e=>parseInt(e))):[]}},hasThresholdBeenReached:{get(){return this.availableUnits<=this.threshold}}},watch:{score:{handler(e){const t={unit:this.units,score:e};this.$emit("updateUnitScore",t)}},hasThresholdBeenReached:{handler(e){e&&this.$emit("hasThresholdBeenReached")}},unitRules:{handler(e){e&&(this.score=Object.keys(this.units).map((t=>(e[t]??0)*this.units[t])).reduce(Mt,0),this.numberOfUnits=Object.keys(this.units).map((e=>e*this.units[e])).reduce(Mt,0))}}},methods:{openReset(){this.resetUnits(),this.resetBonus()},resetUnits(){this.score=0,this.numberOfUnits=0,this.exchanges=0,this.units=structuredClone(at),this.localStorageService.setUnits(null)},resetBonus(){this.$refs.bonusSelector.reset(),this.bonusService.resetUnits()},updateUnitCount({unit:e,update:t}){this.units[e]+=t,this.numberOfUnits+=parseInt(e)*parseInt(t),this.score+=this.unitRules[e]*t,this.localStorageService.setUnits(this.units),this.activeUnitBonuses?.length&&this.sendBonusUpdate(t)},updateExchanges({update:e}){this.exchanges+=e,this.score-=e},updateActiveBonuses(e){this.activeUnitBonuses=e?.value??[]},sendBonusUpdate(e){this.activeUnitBonuses.forEach((t=>{this.bonusService.addUnitsWithBonus({name:t,update:e})}))},getUnits(){return this.units},getExchanges(){return this.exchanges}},mounted(){const e=this.localStorageService?.getUnits();e&&(this.units=Object.assign({},e))}},Qt=qt,Xt=(0,F.c)(Qt,ft,vt,!1,null,null,null),es=Xt.exports,ts=function(){var e=this,t=e._self._c;return t("card-layout",{attrs:{logo:"mdi-railroad-light",title:"current.stations.title"},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-indicators",{attrs:{leftText:e.$t("current.stations.indicators.left"),leftIndicator:e.trainStations,centerCondition:!1,rightText:e.$t("current.stations.indicators.right"),rightIndicator:e.score}})]},proxy:!0},{key:"content",fn:function(){return[t("two-buttons",{attrs:{leftActive:!1,rightColor:"accent",rightIcon:"mdi-restore",rightText:e.$t("main.btn.reset")},on:{clickRight:function(t){return e.reset()}}}),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(R.c,[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("current.stations.subtitle"))+" ")])]),t(R.c,e._l(e.numberOfTrainStations,(function(s){return t(l.c,{key:s,attrs:{cols:"12",md:"4"}},[t("train-stations-item",{attrs:{isActive:e.trainStations>=s,index:s,version:e.version},on:{"delete-item":function(t){return e.decrementCounter()},"add-item":function(t){return e.incrementCounter()}}})],1)})),1)],1)],1)]},proxy:!0}])})},ss=[],is=function(){var e=this,t=e._self._c;return t(o.c,{attrs:{outlined:""}},[t(c.m6,[t("span",[e._v(" "+e._s(e.$t("current.stations.card.title",{id:e.index}))+" ")]),t(N.c),e.isActive?t(h.c,{attrs:{large:"",color:"red"},on:{click:function(t){return e.deleteItem()}}},[e._v(" mdi-close ")]):t(h.c,{attrs:{large:"",color:"green"},on:{click:function(t){return e.addItem()}}},[e._v(" mdi-plus ")])],1),t(c.c$,{staticClass:"my-n3"},[t(u.c,{attrs:{fluid:""}},[t(R.c,{staticClass:"text-body-1",attrs:{align:"center"}},[t(l.c,{attrs:{cols:"12"}},[t(h.c,{staticClass:"mx-4",attrs:{color:e.isActive?"accent":void 0}},[e._v(" mdi-medal-outline ")]),e.isActive?t("span",[e._v(" "+e._s(e.version?.trainStationRule??0)+" ")]):t("span",[e._v(" "+e._s(e.version?.pointsPerUnsetTrainStation??0)+" ")])],1)],1)],1)],1)],1)},as=[],ns={name:"TrainStationsItem",props:{isActive:{type:Boolean,default:!1},index:{type:Number,default:0},version:{type:Object,default:()=>{}}},data:()=>({}),methods:{deleteItem(){this.$emit("delete-item")},addItem(){this.$emit("add-item")}}},rs=ns,os=(0,F.c)(rs,is,as,!1,null,null,null),cs=os.exports,ls={components:{CardLayout:Q,BaseIndicators:Y,TwoButtons:de,TrainStationsItem:cs},name:"TrainStationsBlock",inject:["localStorageService"],props:{version:{type:Object,default:()=>{}}},computed:{numberOfTrainStations:{get(){return this.version?.numberOfTrainStationsPerPlayer??0}},score:{get(){const e=this.numberOfTrainStations-this.trainStations,t=this.trainStations*this.version?.trainStationRule+e*this.version?.pointsPerUnsetTrainStation;return t??0}}},watch:{score:{immediate:!0,handler(e){null!=e&&this.$emit("update-score",{score:e})}},trainStations:{handler(e){this.localStorageService.setTrainStations(e)}}},data:()=>({trainStations:0}),methods:{reset(){this.trainStations=0},incrementCounter(){this.trainStations=Math.min(this.trainStations+1,this.numberOfTrainStations)},decrementCounter(){this.trainStations=Math.max(this.trainStations-1,0)}},mounted(){this.trainStations=this.localStorageService.getTrainStations()}},us=ls,ds=(0,F.c)(us,ts,ss,!1,null,null,null),ms=ds.exports,ps=s(5564),gs=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"frag",rawName:"v-frag"}]},[t("card-layout",{attrs:{logo:"mdi-ticket-confirmation-outline",title:"current.tickets.title"},scopedSlots:e._u([{key:"header",fn:function(){return[t("base-indicators",{attrs:{leftText:e.$t("current.tickets.indicators.left"),leftIndicator:e.routes.length,centerText:e.$t("current.tickets.indicators.center"),centerIndicator:e.completionCount,rightText:e.$t("current.tickets.indicators.right"),rightIndicator:e.score}})]},proxy:!0},{key:"content",fn:function(){return[t("two-buttons",{attrs:{leftColor:"primary",leftIcon:"mdi-card-plus-outline",leftText:e.$t("main.btn.add-ticket"),rightColor:"accent",rightIcon:"mdi-restore",rightText:e.$t("main.btn.reset")},on:{clickLeft:function(t){return e.openDialog()},clickRight:function(t){return e.reset()}}}),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:"",flat:"",color:"primaryLight"}},[t(c.m6,{staticClass:"text-h4 font-weight-light"},[t("span",{staticClass:"darkenBlack--text"},[e._v(" "+e._s(e.$t("current.tickets.routes.title"))+" ")])]),t(ps.c,{staticClass:"py-6",attrs:{headers:e.tableHeaders,items:e.routesAsTableItems,"item-key":"id","multi-sort":"","footer-props":{"items-per-page-options":[-1]}},scopedSlots:e._u([{key:"item.delete",fn:function({item:s}){return[t(h.c,{attrs:{large:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete-forever ")])]}},{key:"item.actions",fn:function({item:s}){return[t(h.c,{directives:[{name:"show",rawName:"v-show",value:"Done"!=s.status,expression:"item.status != 'Done'"}],staticClass:"mx-1",attrs:{large:"",color:"green"},on:{click:function(t){return e.changeItemStatus(s,"Done")}}},[e._v(" mdi-check ")]),e.isTour(s)?t(h.c,{directives:[{name:"show",rawName:"v-show",value:"Unordered"!=s.status,expression:"item.status != 'Unordered'"}],staticClass:"mx-1",attrs:{large:"",color:"amber"},on:{click:function(t){return e.changeItemStatus(s,"Unordered")}}},[e._v(" mdi-compass-off-outline ")]):e._e(),t(h.c,{directives:[{name:"show",rawName:"v-show",value:"Fail"!=s.status,expression:"item.status != 'Fail'"}],staticClass:"mx-1",attrs:{large:"",color:"red"},on:{click:function(t){return e.changeItemStatus(s,"Fail")}}},[e._v(" mdi-close ")])]}},{key:"item.status",fn:function({item:s}){return[t(G.c,{attrs:{color:e.getStatusColor(s.status),dark:""}},[e._v(" "+e._s(e.getStatusText(s.status))+" ")])]}}],null,!0)})],1)],1)],1)]},proxy:!0}])}),t("ticket-dialog",{attrs:{isActive:e.isDialogOpen,routes:e.routes,version:e.version},on:{"close-dialog":function(t){return e.closeDialog()},"add-item":function(t){return e.addItem(t)}}})],1)},hs=[],Es=function(){var e=this,t=e._self._c;return t(m.c,{attrs:{"max-width":"660"},on:{"click:outside":function(t){return e.closeDialog()}},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[t(o.c,{attrs:{color:"background"}},[t(U.c,{attrs:{flat:"",color:"quaternary",dark:""}},[t(D.mw,[e._v(" "+e._s(e.$t("current.dialog.add-ticket.title"))+" ")]),t(N.c),t(r.c,{attrs:{icon:""},on:{click:function(t){return e.closeDialog()}}},[t(h.c,[e._v("mdi-close")])],1)],1),t(c.c$,[t(u.c,{attrs:{fluid:""}},[t(R.c,{attrs:{align:"center"}},[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("current.dialog.add-ticket.subtitle"))+" ")])]),t(l.c,{attrs:{cols:"12",md:"6"}},[t(S.c,{attrs:{solo:"",clearable:"",color:"secondary",label:e.$t("current.dialog.add-ticket.label.from"),items:e.cities},model:{value:e.cityFrom,callback:function(t){e.cityFrom=t},expression:"cityFrom"}})],1),t(l.c,{attrs:{cols:"12",md:"6"}},[t(S.c,{attrs:{disabled:!e.cityFrom,"error-messages":e.duplicateTicketErrorMessage,messages:e.foundTicketsCountMessage,solo:"",clearable:"",color:"secondary",label:e.$t("current.dialog.add-ticket.label.to"),items:e.citiesMatchingWithOrigin},model:{value:e.cityTo,callback:function(t){e.cityTo=t},expression:"cityTo"}})],1),e.foundTickets.length>1?t(l.c,{attrs:{cols:"12"}},[t("span",[e._v(e._s(e.$t("current.dialog.add-ticket.selection.title")))]),t(o.c,{attrs:{flat:"",outlined:""}},[t(ps.c,{staticClass:"py-6",attrs:{headers:e.headersAddTicket,items:e.foundTickets,"item-key":"id","hide-default-footer":"","single-select":"","show-select":""},scopedSlots:e._u([{key:"item.to",fn:function({item:t}){return[e._v(" "+e._s(t.cities.slice(-1)[0].name)+" ")]}},{key:"item.from",fn:function({item:t}){return[e._v(" "+e._s(t.cities[0].name)+" ")]}}],null,!0),model:{value:e.selectedTicket,callback:function(t){e.selectedTicket=t},expression:"selectedTicket"}})],1)],1):e._e()],1)],1)],1),t(c.iG,[t(N.c),t(r.c,{attrs:{large:"",text:"",color:"accent"},on:{click:function(t){return e.closeDialog()}}},[e._v(e._s(e.$t("main.btn.close")))]),t(r.c,{attrs:{large:"",disabled:e.isAddButtonDisabled,text:"",color:"secondary"},on:{click:function(t){return e.addTicket()}}},[e._v(e._s(e.$t("main.btn.add-ticket")))])],1)],1)],1)},As=[],Rs={name:"TicketDialog",props:{isActive:{type:Boolean,default:!1},version:{type:Object,default:()=>{}},routes:{type:Array,default:()=>[]}},computed:{tickets:{get(){return this.version?.tickets??[]}},routesId:{get(){return(this.routes??[]).map((e=>e.id))}},cities:{get(){const e=this.tickets.filter((e=>!this.routesId.includes(e.id))).map((e=>e.cities.map((e=>e.name)))).flat();return[...new Set(e)].sort()}},citiesMatchingWithOrigin:{get(){if(!this.possibleTickets)return[];const e=this.possibleTickets.map((e=>e.cities.map((e=>e.name)))).flat();return[...new Set(e)].filter((e=>e!==this.cityFrom)).sort()}},possibleTickets:{get(){return this.cityFrom?(this.version?.tickets??[]).filter((e=>{const t=e.cities.map((e=>e.name)).includes(this.cityFrom),s=this.routesId.includes(e.id);return t&&!s})):[]}},isAddButtonDisabled:{get(){const e=!this.selectedTicket.length;return e||this.isSelectedTicketDuplicated}},headersAddTicket:{get(){return[{text:this.$t("main.tables.headers.from"),align:"start",value:"from",sortable:!0},{text:this.$t("main.tables.headers.to"),align:"start",value:"to",sortable:!0},{text:this.$t("main.tables.headers.steps"),align:"start",value:"cities.length",sortable:!0},{text:this.$t("main.tables.headers.points"),align:"start",value:"points",sortable:!0}]}},isSelectedTicketDuplicated:{get(){return(this.routes??[]).map((e=>e?.id)).includes(this.selectedTicket[0]?.id)}},duplicateTicketErrorMessage:{get(){return this.selectedTicket.length&&this.isSelectedTicketDuplicated?this.$t("current.dialog.add-ticket.error"):null}},foundTicketsCountMessage:{get(){return this.foundTickets.length?this.$tc("current.dialog.add-ticket.message",this.foundTickets.length):null}}},watch:{cityFrom:{handler(){this.cityTo=null}},cityTo:{handler(e){this.foundTickets=[],this.selectedTicket=[],e&&(this.foundTickets=this.possibleTickets.filter((t=>t.cities.map((e=>e.name)).includes(e))),1===this.foundTickets.length&&(this.selectedTicket=structuredClone(this.foundTickets)))}}},data:()=>({cityFrom:null,cityTo:null,foundTickets:[],selectedTicket:[]}),methods:{reset(){this.cityFrom=null},closeDialog(){this.$emit("close-dialog"),setTimeout((()=>this.reset()),50)},addTicket(){const e={value:this.selectedTicket[0]};this.$emit("add-item",e),this.reset()}}},Ss=Rs,ys=(0,F.c)(Ss,Es,As,!1,null,null,null),Os=ys.exports;const Ns={Fail:-1,Done:1},Ts={Fail:"points_failed",Done:"points",Unordered:"points_unordered"};var bs={components:{CardLayout:Q,BaseIndicators:Y,TwoButtons:de,TicketDialog:Os},name:"TicketsBlock",inject:["localStorageService"],props:{version:{type:Object,default:()=>{}},completionCount:{type:Number,default:0}},computed:{score:{get(){return this.routes?.map(this.computeScore).reduce(Mt,0)}},tableHeaders:{get(){return[{text:this.$t("main.tables.headers.from"),align:"start",value:"from",sortable:!0},{text:this.$t("main.tables.headers.to"),align:"start",value:"to",sortable:!0},{text:this.$t("main.tables.headers.points"),align:"start",value:"points",sortable:!0},{text:this.$t("main.tables.headers.status"),align:"start",value:"status",sortable:!0},{text:this.$t("main.tables.headers.actions"),align:"center",value:"actions",sortable:!1},{text:this.$t("main.tables.headers.delete"),align:"center",value:"delete",sortable:!0}]}},routesAsTableItems:{get(){return this.routes.map((e=>({...e,from:e.cities[0].name,to:e.cities.slice(-1)[0].name})))}}},watch:{routes:{deep:!0,handler(e){e&&(this.localStorageService.setRoutes(e),this.$emit("update-routes",{routes:e,score:this.score}))}}},data:()=>({isDialogOpen:!1,routes:[]}),methods:{reset(){this.routes=[]},computeScore(e){if(!this.isTour(e))return e.points*Ns[e.status];const t=Ts[e.status];return e[t]},addItem({value:e}){this.routes.push({...e,status:"Fail"})},deleteItem(e){const t=this.routes.findIndex((t=>t.id==e.id));t<0?this.showErrorMessage(this.$t("main.snackbar.error.delete")):this.routes.splice(t,1)},openDialog(){this.isDialogOpen=!0},closeDialog(){this.isDialogOpen=!1},changeItemStatus(e,t){const s=this.routes.findIndex((t=>t.id==e.id));s<0?this.showErrorMessage(this.$t("main.snackbar.error.toggle-status")):this.routes[s].status=t},getStatusColor(e){const t={Fail:"red",Done:"green"};return t[e]??"amber"},getStatusText(e){const t={Fail:"main.status.fail",Done:"main.status.done",Unordered:"main.status.unordered"};return this.$t(t[e])??""},showErrorMessage(e){this.$emit("show-alert",{message:e,level:"error"})},isTour:Pt},mounted(){this.routes=[...this.localStorageService.getRoutes()]}},Is=bs,_s=(0,F.c)(Is,gs,hs,!1,null,null,null),Ls=_s.exports,fs={components:{UnitsBlock:es,BonusesBlock:gt,StockSharesBlock:Lt,HarborsBlock:Le,TrainStationsBlock:ms,TicketsBlock:Ls},name:"TabCurrentGame",data:()=>({dialogReset:!1,dialogSaveGame:!1,selectVersion:null,selectPlayer:[],selectedPlayer:null,resetType:"",gameId:"",loadingOpenSaveGame:!1,saveGameSelectErrorMessage:null,loadingSave:!1,routes:[],routesScore:0,harborScore:0,trainStationsScore:0,longestBonus:0,globeTrotterBonus:0,mandalaBonus:{count:0,score:0},unitedKingdomBonus:structuredClone(nt),stockSharesScore:0,scoresForAllStockShares:[],units:{},unitScore:0}),props:{id:{type:String},players:{type:Array,default:()=>[]},version:{type:Object,default:()=>{}},gamesAndRules:{type:Array,default:()=>[]},appLoaded:{type:Boolean,default:!1}},computed:{computedCompletion:{get(){return this.routes.filter((e=>"Fail"!==e.status)).length}},computedNumberOfBonuses:{get(){if(!this.computedVersionHasBonuses)return 0;const e=Object.values(this.unitedKingdomBonus??{}).map((e=>e.count)),t=[this.longestBonus,this.globeTrotterBonus,this.mandalaBonus.count,...e];return t.reduce(((e,t)=>(0!==t&&e++,e)),0)}},computedGlobeTrotterBonus:{get(){return this.computedVersionHasGlobeTrotterBonus?this.globeTrotterBonus:0}},computedLongestBonus:{get(){return this.computedVersionHasLongest?this.longestBonus:0}},computedMandalaBonus:{get(){return this.computedVersionHasMandalaBonus?this.mandalaBonus.score:0}},computedUnitedKingdomBonus:{get(){if(this.computedVersionHasUnitedKingdomBonus){const e=Object.values(this.unitedKingdomBonus??{}).map((e=>e.score));return e.reduce(((e,t)=>e+t),0)}return 0}},computedBonusScore:{get(){return this.computedVersionHasBonuses?this.computedLongestBonus+this.computedGlobeTrotterBonus+this.computedMandalaBonus+this.computedUnitedKingdomBonus:0}},computedTotalScore:{get(){return this.selectVersion?parseInt(this.routesScore+this.unitScore+this.harborScore+this.trainStationsScore+this.computedBonusScore+this.stockSharesScore):0}},computedVersionHasHarbors:{get(){return!!this.selectVersion&&this.selectVersion.hasHarbors}},computedVersionHasTrainStations:{get(){return!!this.selectVersion&&this.selectVersion.hasTrainStations}},computedVersionHasBoats:{get(){return!!this.selectVersion&&this.selectVersion.hasBoats}},computedVersionHasExchanges:{get(){return!!this.selectVersion&&this.selectVersion.hasExchanges}},computedVersionHasBonuses:{get(){return this.computedVersionHasLongest||this.computedVersionHasGlobeTrotterBonus||this.computedVersionHasUnitedKingdomBonus}},computedVersionHasUnitedKingdomBonus:{get(){return!!this.selectVersion&&this.selectVersion.hasUnitedKingdomBonus}},computedVersionHasLongest:{get(){return!!this.selectVersion&&this.selectVersion.hasLongest}},computedVersionHasGlobeTrotterBonus:{get(){return!!this.selectVersion&&this.selectVersion.hasBonusGlobeTrotter}},computedVersionHasMandalaBonus:{get(){return!!this.selectVersion&&this.selectVersion.hasBonusMandala}},computedVersionHasStockShares:{get(){return!!this.selectVersion&&this.selectVersion.hasStockShares}}},watch:{selectVersion:{handler(e){e&&e.name&&localStorage.setItem("version",e.name)}},version:{handler(e){Object.keys(e).length>0&&(this.selectVersion=e)}},id:{handler(e){e&&(this.gameId=e)}},gameId:{handler(e){e&&localStorage.setItem("id",e)}},appLoaded:{immediate:!0,handler(e){e&&this.initialiseFromLocalStorage()}}},methods:{async openSaveGame(){if(this.dialogSaveGame=!0,this.loadingOpenSaveGame=!0,this.players.length>1)this.selectPlayer=this.players,this.loadingOpenSaveGame=!1;else try{const e=await Hi.collection("Games").doc(this.gameId).get(),t=e.data();if(t){const e=t.players,s=[];for(let i=0;i<e;i++){const e=`player${i+1}`;s.push(t[e].name)}this.selectPlayer=s}else this.saveGameSelectErrorMessage=this.$t("current.dialog.save.error.id")}catch(e){this.saveGameSelectErrorMessage=this.$t("current.dialog.save.error.unexpected"),console.error("When computing names from firebase document : "+e),this.notifySnack(this.$t("main.snackbar.error.open-save"),"error")}finally{this.loadingOpenSaveGame=!1}},closeSaveGame(){this.dialogSaveGame=!1,this.selectedPlayer=null,this.saveGameSelectErrorMessage=null},async saveGame(){this.loadingSave=!0;const e=`player${this.selectPlayer.indexOf(this.selectedPlayer)+1}`,t=this.routes.map((e=>({id:e.id,status:e.status}))),s=this.$refs.units.getUnits(),i={name:this.selectedPlayer,score:this.computedTotalScore,tickets:t,units:s};this.computedVersionHasHarbors&&(i["harbors"]=this.$refs.harbors.getScoreByCity()),this.computedVersionHasExchanges&&(i["exchanges"]=this.$refs.units.getExchanges()),this.computedVersionHasTrainStations&&(i["trainStations"]=this.trainStationsScore),this.computedVersionHasLongest&&(i["longestBonus"]=this.computedLongestBonus),this.computedVersionHasGlobeTrotterBonus&&(i["globeTrotterBonus"]=this.computedGlobeTrotterBonus),this.computedVersionHasMandalaBonus&&(i["mandalaBonus"]=this.mandalaBonus),this.computedVersionHasStockShares&&(i["stockShares"]={score:this.stockSharesScore,items:this.scoresForAllStockShares}),this.computedVersionHasUnitedKingdomBonus&&(i["unitedKingdomBonus"]=this.unitedKingdomBonus);try{await Hi.collection("Games").doc(this.gameId).update({[e]:i}),this.notifySnack(this.$t("main.snackbar.success.save"),"success")}catch(a){console.warn("Oups something went terribly wrong : "+a),this.notifySnack(this.$t("main.snackbar.error.save"),"error")}finally{this.closeSaveGame(),this.loadingSave=!1}},async shareGameId(){this.loadingShare=!0;let e=!1;const t={title:"Let's play!",text:this.gameId,url:"https://jrmdel.github.io/TicketToRide"};try{await navigator.share(t)}catch(s){e=!0,console.warn("Impossible to share the ID : "+s)}finally{e?this.notifySnack(this.$t("main.snackbar.error.share"),"error"):this.notifySnack(this.$t("main.snackbar.success.share"),"success"),this.loadingShare=!1}},updateRoutes({routes:e,score:t}){this.routes=[...e],this.routesScore=t},updateTrainStationScore({score:e}){this.trainStationsScore=e},updateHarborScore({score:e}){this.harborScore=e},updateStockShareScore(e){this.scoresForAllStockShares=e.scoresForAllStockShares,this.stockSharesScore=e.totalScore},openReset(e){this.resetType=e,this.dialogReset=!0},getResetTitle(e){return"tickets"==e?this.$t("current.dialog.reset.types.tickets"):"units"==e?this.$t("current.dialog.reset.types.units"):"harbors"==e?this.$t("current.dialog.reset.types.harbors"):"train stations"==e?this.$t("current.dialog.reset.types.stations"):"bonuses"==e?this.$t("current.dialog.reset.types.bonuses"):this.$t("current.dialog.reset.types.all")},resetTypeOf(){"tickets"==this.resetType?this.resetTickets():"units"==this.resetType?this.resetTrainsAndBoats():"harbors"==this.resetType?this.resetHarbors():"train stations"==this.resetType?this.resetTrainStations():"bonuses"==this.resetType?this.resetBonuses():(this.resetAll(),this.$emit("resetGameSession")),this.dialogReset=!1,this.resetType=""},resetTickets(){this.$refs.tickets.reset()},resetTrainsAndBoats(){this.$refs.units.resetUnits()},resetHarbors(){this.$refs.harbors.reset()},resetTrainStations(){this.$refs.trainStations.reset()},handleBonusEvent(e){const{name:t,...s}=e;"mandala"==t?this.mandalaBonus=s:"longest"===t?this.longestBonus=e.score:"globeTrotter"===t?this.globeTrotterBonus=e.score:"uk"===t&&(this.unitedKingdomBonus={...this.unitedKingdomBonus,...s})},resetBonuses(){this.$refs.bonusesBlock.reset()},toggleTo(e,t){const s=this.routes.findIndex((t=>t.id==e.id));-1==s?this.notifySnack(this.$t("main.snackbar.error.toggle-status"),"error"):(this.routes[s].status=t,localStorage.setItem("routes",JSON.stringify(this.routes)))},notifySnack(e,t){this.$emit("popUp",{msg:e,color:t})},getRoutes(){return this.routes},findVersion(e){const t={version:e};this.$emit("findVersion",t)},showThresholdWarning(){const e=this.$t("main.snackbar.warning.last-units",{n:this.selectVersion.threshold});this.notifySnack(e,"warning")},updateUnitScore({unit:e,score:t}){this.unitScore=t,this.units=e},resetAll(){this.resetTickets(),this.resetTrainsAndBoats(),this.resetHarbors(),this.resetTrainStations(),this.resetBonuses(),this.gameId="",this.selectVersion=null,localStorage.removeItem("version"),localStorage.removeItem("id")},initialiseFromLocalStorage(){if(localStorage.getItem("version"))try{this.findVersion(localStorage.getItem("version"))}catch(e){localStorage.removeItem("version")}else this.selectVersion=null;if(localStorage.getItem("id"))try{this.gameId=localStorage.getItem("id")}catch(e){localStorage.removeItem("id")}}}},vs=fs,Cs=(0,F.c)(vs,x,P,!1,null,null,null),Us=Cs.exports,Ds=s(1264),Bs=function(){var e=this,t=e._self._c;return t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,[t(U.c,{attrs:{flat:"",dark:"",color:"secondary"}},[t(D.mw,[e._v(e._s(e.$t("scoreboard.overall.title")))]),t(N.c),t(h.c,{attrs:{large:""}},[e._v("mdi-medal")])],1),t(c.c$,[t(ps.c,{attrs:{loading:e.computedLoading,headers:e.headers,items:e.games,"item-key":"id","multi-sort":""},scopedSlots:e._u([{key:"item.details",fn:function({item:s}){return[t(h.c,{on:{click:function(t){return e.openDetails(s)}}},[e._v("mdi-eye")])]}},{key:"item.actions",fn:function({item:s}){return[e.dateInRange(s.date)?t(h.c,{attrs:{color:"quaternary"},on:{click:function(t){return e.joinGame(s)}}},[e._v("mdi-puzzle-edit-outline")]):e._e()]}}],null,!0)})],1)],1)],1),t(l.c,[t(o.c,[t(U.c,{attrs:{flat:"",dark:"",color:"secondary"}},[t(D.mw,[e._v(e._s(e.$t("scoreboard.insights.title")))]),t(N.c),t(h.c,{attrs:{large:""}},[e._v("mdi-chart-arc")])],1),t(c.c$,[t(u.c,{attrs:{fluid:""}},[t(R.c,{staticClass:"pt-3",attrs:{justify:"center","justify-sm":"space-around"}},[t(l.c,{staticClass:"mx-8 mx-sm-0",attrs:{cols:"auto"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(e.$t("scoreboard.insights.indicators.left")))]),e.computedLoading?t("span",{staticClass:"ml-4"},[t(Ds.c,{attrs:{size:"50",width:"3",indeterminate:""}})],1):t("span",{staticClass:"ml-4 text-sm-h3 text-h4"},[e._v(e._s(e.games.length||0))])]),t(l.c,{staticClass:"mx-8 mx-sm-0",attrs:{cols:"auto"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(e.$t("scoreboard.insights.indicators.center")))]),e.computedLoading?t("span",{staticClass:"ml-4"},[t(Ds.c,{attrs:{size:"50",width:"3",indeterminate:""}})],1):t("span",{staticClass:"ml-4 text-sm-h3 text-h4"},[e._v(e._s(e.computedMetadata.points||0))])]),t(l.c,{staticClass:"mx-8 mx-sm-0",attrs:{cols:"auto"}},[t("span",{staticClass:"text-caption"},[e._v(e._s(e.$t("scoreboard.insights.indicators.right")))]),e.computedLoading?t("span",{staticClass:"ml-4"},[t(Ds.c,{attrs:{size:"50",width:"3",indeterminate:""}})],1):t("span",{staticClass:"ml-4 text-sm-h3 text-h4"},[e._v(e._s(e.computedMetadata.nbSuccessTickets||0))])])],1)],1),t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12",lg:"6"}},[t(o.c,{attrs:{color:"background",elevation:"1"}},[t(U.c,{attrs:{flat:"",color:"accent"}},[t(D.mw,[e._v(e._s(e.$t("scoreboard.insights.player.title")))])],1),e.computedLoading?e._e():t(c.c$,[t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("scoreboard.insights.player.select.title")))])]),t(l.c,{attrs:{cols:"12",sm:"7"}},[t(S.c,{attrs:{solo:"",clearable:"",color:"secondary",label:e.$t("scoreboard.insights.player.select.label"),items:e.computedPlayers},model:{value:e.insightsPlayer,callback:function(t){e.insightsPlayer=t},expression:"insightsPlayer"}})],1)],1),e.insightsPlayer?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("scoreboard.insights.player.data.title")))])]),t(l.c,{attrs:{cols:"12"}},[t("base-indicators",{attrs:{leftText:e.$t("scoreboard.insights.player.data.indicators.left"),leftIndicator:e.insightsFromPlayer.totalWins,centerText:e.$t("scoreboard.insights.player.data.indicators.center"),centerIndicator:e.insightsFromPlayer.totalDraws,rightText:e.$t("scoreboard.insights.player.data.indicators.right"),rightIndicator:e.insightsFromPlayer.totalGames-(e.insightsFromPlayer.totalWins+e.insightsFromPlayer.totalDraws)}})],1),t(l.c,{attrs:{cols:"12",sm:"10",md:"6"}},[t(R.c,{attrs:{justify:"center"}},[t("ApexChart",{attrs:{type:"pie",options:e.insightsPerGameOptions,series:e.insightsFromPlayer.playersPerGame||[]}})],1)],1),t(l.c,{attrs:{cols:"12",sm:"10",md:"6"}},[t(R.c,{attrs:{justify:"center"}},[t("ApexChart",{attrs:{type:"pie",options:e.insightsPlayerVersionOptions,series:e.insightsFromPlayer.versionPerGame||[]}})],1)],1),t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("scoreboard.insights.player.additional.title")))])]),t(l.c,{attrs:{cols:"12"}},[t(R.c,[t(l.c,{attrs:{cols:"12",md:"6"}},[t(S.c,{attrs:{outlined:"",clearable:"",color:"secondary",label:e.$t("scoreboard.insights.player.additional.filter.version"),items:e.gamesAndRules,"item-text":"name","item-value":"name","hide-details":""},model:{value:e.insightsPlayerFilterVersion,callback:function(t){e.insightsPlayerFilterVersion=t},expression:"insightsPlayerFilterVersion"}})],1),t(l.c,{attrs:{cols:"12",md:"6"}},[t(S.c,{attrs:{outlined:"",clearable:"",color:"secondary",label:e.$t("scoreboard.insights.player.additional.filter.players"),items:e.potentialPlayers,"item-text":"text","item-value":"value","hide-details":""},model:{value:e.insightsPlayerFilterPlayers,callback:function(t){e.insightsPlayerFilterPlayers=t},expression:"insightsPlayerFilterPlayers"}})],1)],1)],1),e.insightsPlayerAdditional?[t(l.c,{attrs:{cols:"12"}},[t("base-indicators",{attrs:{leftText:e.$t("scoreboard.insights.player.additional.indicators.left"),leftIndicator:e.insightsPlayerAdditional.totalGames,centerText:e.$t("scoreboard.insights.player.additional.indicators.center"),centerIndicator:e.insightsPlayerAdditional.totalWins,rightText:e.$t("scoreboard.insights.player.additional.indicators.right"),rightIndicator:e.insightsPlayerAdditional.winRate,rightIsPercentage:!0}})],1),t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-subtitle-1 tertiary--text"},[e._v(e._s(e.$t("scoreboard.insights.player.additional.subtitle")))])]),t(l.c,{attrs:{cols:"12"}},[t(ps.c,{staticClass:"py-6",attrs:{headers:e.headersTicketsVersion,items:e.insightsPlayerAdditional.tickets,"item-key":"id","multi-sort":""},scopedSlots:e._u([{key:"item.cities",fn:function({item:t}){return[e._v(" "+e._s(t.cities.slice(-1)[0].name)+" ")]}}],null,!0)})],1)]:e._e()],2):e._e()],1)],1)],1)],1),t(l.c,{attrs:{cols:"12",lg:"6"}},[t(o.c,{attrs:{color:"background",elevation:"1"}},[t(U.c,{attrs:{flat:"",color:"accent"}},[t(D.mw,[e._v(e._s(e.$t("scoreboard.insights.version.title")))])],1),e.computedLoading?e._e():t(c.c$,[t(u.c,{attrs:{fluid:""}},[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("scoreboard.insights.version.select.title")))])]),t(l.c,{attrs:{cols:"12",sm:"7"}},[t(S.c,{attrs:{solo:"",clearable:"",color:"secondary",label:e.$t("scoreboard.insights.version.select.label"),items:e.gamesAndRules,"item-text":"name","return-object":""},model:{value:e.insightsVersion,callback:function(t){e.insightsVersion=t},expression:"insightsVersion"}})],1)],1),e.insightsVersion?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(e._s(e.$t("scoreboard.insights.version.data.title")))])]),t(l.c,[t(ps.c,{staticClass:"py-6",attrs:{headers:e.headersTicketsVersion,items:e.computedInsightsTicketsVersion,"item-key":"id",search:e.searchInsightsTicketsVersion,"multi-sort":""},scopedSlots:e._u([{key:"item.cities",fn:function({item:t}){return[e._v(" "+e._s(t.cities.slice(-1)[0].name)+" ")]}}],null,!0)})],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),t(m.c,{attrs:{"max-width":"800"},on:{"click:outside":e.closeDetails},model:{value:e.dialogDetails,callback:function(t){e.dialogDetails=t},expression:"dialogDetails"}},[t(U.c,{attrs:{flat:"",dark:"",color:"primary"}},[t(D.mw,[e._v(e._s(e.$t("scoreboard.overall.dialog.title")))]),t(N.c),t(r.c,{attrs:{icon:""},on:{click:e.closeDetails}},[t(h.c,[e._v("mdi-close")])],1)],1),t(L.c,{attrs:{"mobile-breakpoint":"0",vertical:e.$vuetify.breakpoint.mdAndUp,color:"secondary","background-color":"primary"}},[t(v.c,{attrs:{color:"secondary"}}),t(I.c,[t(h.c,{attrs:{left:""}},[e._v("mdi-chart-box-outline")]),e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.title"))+" ")],1),e.selectedGame?e._l(e.selectedGame.players,(function(s){return t(I.c,{key:s.name},[t(h.c,{attrs:{left:""}},[e._v("mdi-account-outline")]),t("span",[e._v(" "+e._s(s.name)+" ")])],1)})):e._e(),t(_.c,[t(o.c,{attrs:{flat:""}},[null!=e.selectedGame?t(c.c$,[t(u.c,[t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.info.title"))+" ")])]),t(l.c,{attrs:{cols:"12",sm:"10"}},[t(R.c,{staticClass:"mt-n3"},[t(l.c,{attrs:{cols:"auto",sm:"6"}},[t(R.c,{attrs:{"no-gutters":"",align:"center",justify:"start"}},[t(C.c,{attrs:{"prepend-icon":"mdi-calendar",label:e.$t("scoreboard.overall.dialog.tabs.summary.info.date"),readonly:""},model:{value:e.selectedGame.date,callback:function(t){e.$set(e.selectedGame,"date",t)},expression:"selectedGame.date"}})],1)],1),t(l.c,{attrs:{cols:"auto",sm:"6"}},[t(R.c,{attrs:{"no-gutters":"",align:"center",justify:"start"}},[t(C.c,{attrs:{"prepend-icon":"mdi-map-legend",label:e.$t("scoreboard.overall.dialog.tabs.summary.info.version"),readonly:""},model:{value:e.selectedGame.version,callback:function(t){e.$set(e.selectedGame,"version",t)},expression:"selectedGame.version"}})],1)],1)],1)],1),t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.rankings.title"))+" ")])]),t(l.c,{attrs:{cols:"12",sm:"10"}},[t(o.c,{attrs:{outlined:""}},[t(X.c,{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"primaryLight text-left darkenBlack--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.rankings.name"))+" ")]),t("th",{staticClass:"primaryLight text-left darkenBlack--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.rankings.score"))+" ")])])]),t("tbody",{directives:[{name:"show",rawName:"v-show",value:e.selectedGame.rankings.length>0,expression:"selectedGame.rankings.length > 0"}]},e._l(e.selectedGame.rankings,(function(s){return t("tr",{key:s.name},[t("td",[e._v(e._s(s.name))]),t("td",[e._v(e._s(s.score))])])})),0),t("tbody",{directives:[{name:"show",rawName:"v-show",value:0==e.selectedGame.rankings.length,expression:"selectedGame.rankings.length == 0"}]},[t("tr",[t("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.rankings.no-data"))+" ")])])])]},proxy:!0}],null,!1,3437735881)})],1)],1)],1),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.statistics.title"))+" ")])]),t(l.c,{attrs:{cols:"12",sm:"6"}},[t(o.c,{attrs:{tile:"",color:"secondary",dark:""}},[t(c.m6,{staticClass:"text-subtitle-1"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.statistics.units"))+" ")]),t(c.c$,{staticClass:"text-h4 white--text"},[e._v(" "+e._s(e.getTotalUnits(e.selectedGame.players))+" ")])],1)],1),t(l.c,{attrs:{cols:"12",sm:"6"}},[t(o.c,{attrs:{tile:"",color:"quaternary",dark:""}},[t(c.m6,{staticClass:"text-subtitle-1"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.summary.statistics.tickets"))+" ")]),t(c.c$,{staticClass:"text-h4 white--text"},[e._v(" "+e._s(e.getTotalSuccessfulTickets(e.selectedGame.players))+" ")])],1)],1)],1)],1)],1):e._e()],1)],1),null!=e.selectedGame?e._l(e.selectedGame.players.length,(function(s){return t(_.c,{key:s},[t(o.c,{attrs:{flat:""}},[t(u.c,[e.computedHasBonuses?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.bonuses.title"))+" ")])])],1):e._e(),e.computedHasLongest?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:"",disabled:0==(e.selectedGame.players[s-1].longestBonus||0)}},[t(U.c,{staticClass:"text-caption font-weight-bold text--secondary",attrs:{flat:"",dense:"",color:"primaryLight"}},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.bonuses.longest"))+" ")]),t(u.c,[t(R.c,{attrs:{justify:"space-around"}},[t(h.c,{attrs:{color:0!=(e.selectedGame.players[s-1].longestBonus||0)?"accent":"primary"}},[e._v(" "+e._s(0!=(e.selectedGame.players[s-1].longestBonus||0)?"mdi-star":"mdi-star-off-outline")+" ")]),t("span",{staticClass:"text-h6 font-weight-regular tertiary--text"},[e._v(" "+e._s(e.selectedGame.players[s-1].longestBonus||0)+" ")])],1)],1)],1)],1)],1):e._e(),e.computedHasGlobeTrotter?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:"",disabled:0==(e.selectedGame.players[s-1].globeTrotterBonus||0)}},[t(U.c,{staticClass:"text-caption font-weight-bold text--secondary",attrs:{flat:"",dense:"",color:"primaryLight"}},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.bonuses.globe-trotter"))+" ")]),t(u.c,[t(R.c,{attrs:{justify:"space-around"}},[t(h.c,{attrs:{color:0!=(e.selectedGame.players[s-1].globeTrotterBonus||0)?"accent":"primary"}},[e._v(" "+e._s(0!=(e.selectedGame.players[s-1].globeTrotterBonus||0)?"mdi-star":"mdi-star-off-outline")+" ")]),t("span",{staticClass:"text-h6 font-weight-regular tertiary--text"},[e._v(" "+e._s(e.selectedGame.players[s-1].globeTrotterBonus||0)+" ")])],1)],1)],1)],1)],1):e._e(),e.computedHasMandala?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:"",disabled:!e.hasWonMandalaBonus(e.selectedGame.players[s-1])}},[t(U.c,{staticClass:"text-caption font-weight-bold text--secondary",attrs:{flat:"",dense:"",color:"primaryLight"}},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.bonuses.mandala"))+" ")]),t(u.c,[t(R.c,{attrs:{justify:"space-around"}},[t(h.c,{attrs:{color:e.hasWonMandalaBonus(e.selectedGame.players[s-1])?"accent":"primary"}},[e._v(" "+e._s(e.hasWonMandalaBonus(e.selectedGame.players[s-1])?"mdi-star":"mdi-star-off-outline")+" ")]),t("span",{staticClass:"text-h6 font-weight-regular tertiary--text"},[e._v(" "+e._s(e.getMandalaBonusScore(e.selectedGame.players[s-1]))+" ")])],1)],1)],1)],1)],1):e._e(),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.tickets.title"))+" ")])])],1),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:""}},[t(ps.c,{attrs:{headers:e.ticketHeaders,items:e.selectedGame.players[s-1].tickets},scopedSlots:e._u([{key:"item.status",fn:function({item:s}){return[t(G.c,{attrs:{color:e.getStatusColor(s.status),dark:""}},[e._v(e._s(s.status))])]}},{key:"item.to",fn:function({item:t}){return[e._v(" "+e._s(t.cities.slice(-1)[0].name)+" ")]}},{key:"item.from",fn:function({item:t}){return[e._v(" "+e._s(t.cities[0].name)+" ")]}},{key:"no-data",fn:function(){return[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.tickets.no-data"))+" ")]},proxy:!0}],null,!0)})],1)],1)],1),e.computedHasHarbors?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.harbors.title"))+" ")])])],1):e._e(),e.computedHasHarbors?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:""}},[t(ps.c,{attrs:{headers:e.harborsHeaders,items:e.selectedGame.players[s-1].harbors,"footer-props":{"items-per-page-options":[-1]}},scopedSlots:e._u([{key:"no-data",fn:function(){return[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.harbors.no-data"))+" ")]},proxy:!0}],null,!0)})],1)],1)],1):e._e(),e.computedHasTrainStations?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.stations.title"))+" ")])])],1):e._e(),e.computedHasTrainStations?t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:""}},[t(X.c,{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"primaryLight darkenBlack--text text-left"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.stations.score"))+" ")])])]),t("tbody",{directives:[{name:"show",rawName:"v-show",value:e.selectedGame.players[s-1].trainStations,expression:"selectedGame.players[i - 1].trainStations"}]},[t("tr",[t("td",[e._v(" "+e._s(e.selectedGame.players[s-1].trainStations)+" ")])])]),t("tbody",{directives:[{name:"show",rawName:"v-show",value:!e.selectedGame.players[s-1].trainStations,expression:"!selectedGame.players[i - 1].trainStations"}]},[t("tr",[t("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.stations.no-data"))+" ")])])])]},proxy:!0}],null,!0)})],1)],1)],1):e._e(),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t("span",{staticClass:"text-h6 tertiary--text"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.units.title"))+" ")])])],1),t(R.c,[t(l.c,{attrs:{cols:"12"}},[t(o.c,{attrs:{outlined:""}},[t(X.c,{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"primaryLight darkenBlack--text text-left"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.units.routes"))+" ")]),t("th",{staticClass:"primaryLight darkenBlack--text text-left"},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.units.number"))+" ")])])]),t("tbody",{directives:[{name:"show",rawName:"v-show",value:e.selectedGame.players[s-1].units,expression:"selectedGame.players[i - 1].units"}]},e._l(e.selectedGame.players[s-1].units,(function(s,i){return t("tr",{key:i},[t("td",[e._v(e._s(i))]),t("td",[e._v(e._s(s))])])})),0),t("tbody",{directives:[{name:"show",rawName:"v-show",value:!e.selectedGame.players[s-1].units,expression:"!selectedGame.players[i - 1].units"}]},[t("tr",[t("td",{attrs:{colspan:"2"}},[e._v(" "+e._s(e.$t("scoreboard.overall.dialog.tabs.player.units.no-data"))+" ")])])])]},proxy:!0}],null,!0)})],1)],1)],1)],1)],1)],1)})):e._e()],2)],1)],1)},ks=[],Gs={name:"TabScoreboard",components:{BaseIndicators:Y},data(){return{games:[],selectedGame:null,selectedVersion:null,dialogDetails:!1,loadingData:!1,unsubscribe:null,scoreUnitsRule:{1:1,2:2,3:4,4:7,5:10,6:15,7:18,8:21,9:27},optionsPointsChartPerPlayer:{chart:{type:"bar",stacked:!0,stackType:"100%"},grid:{show:!1},plotOptions:{bar:{horizontal:!0}},colors:["#6A2E35","#C42348","#B57F50"],stroke:{width:1,colors:["#fff"]},xaxis:{categories:["Points"],labels:{show:!1,maxHeight:10},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!1},tooltip:{y:{formatter:function(e){return Math.round(e)+"%"}}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left"}},searchInsightsTicketsVersion:"",insightsVersion:null,insightsFromVersion:null,insightsPlayer:null,insightsFromPlayer:null,insightsPerGameOptions:null,insightsPlayerVersionOptions:null,insightsPlayerFilterVersion:null,insightsPlayerFilterPlayers:null,insightsPlayerAdditional:null}},props:{gamesAndRules:{type:Array,default:()=>[]},darkTheme:{type:Boolean,default:!1}},watch:{insightsVersion:{handler(e){this.insightsFromVersion=null,e&&(this.insightsFromVersion=Object.assign({},this.computeFromVersion(e.name)))}},insightsPlayer:{handler(e){this.insightsFromPlayer=null,this.insightsPerGameOptions=null,e?(this.computePlayerInsightsPerGameOptions(this.darkTheme),this.computeInsightsPlayerVersionOptions(this.darkTheme),this.insightsFromPlayer=Object.assign({},this.computeFromPlayer(e)),(this.insightsPlayerFilterVersion||this.insightsPlayerFilterPlayers)&&(this.insightsPlayerAdditional=Object.assign({},this.computePlayerInsightsFromFilters(this.insightsPlayerFilterPlayers,this.insightsPlayerFilterVersion)))):(this.insightsPlayerFilterVersion=null,this.insightsPlayerFilterPlayers=null)}},insightsPlayerFilterPlayers:{handler(e){e||this.insightsPlayerFilterVersion?this.insightsPlayerAdditional=Object.assign({},this.computePlayerInsightsFromFilters(e,this.insightsPlayerFilterVersion)):this.insightsPlayerAdditional=null}},insightsPlayerFilterVersion:{handler(e){e||this.insightsPlayerFilterPlayers?this.insightsPlayerAdditional=Object.assign({},this.computePlayerInsightsFromFilters(this.insightsPlayerFilterPlayers,e)):this.insightsPlayerAdditional=null}},darkTheme:{handler(e){this.insightsPerGameOptions={chart:{background:e?this.$vuetify.theme.themes.dark.background:this.$vuetify.theme.themes.light.background},theme:{mode:e?"dark":"light",monochrome:{color:e?this.$vuetify.theme.themes.dark.primary:this.$vuetify.theme.themes.light.primary}}},this.insightsPlayerVersionOptions={chart:{background:e?this.$vuetify.theme.themes.dark.background:this.$vuetify.theme.themes.light.background},theme:{mode:e?"dark":"light",monochrome:{color:e?this.$vuetify.theme.themes.dark.secondary:this.$vuetify.theme.themes.light.secondary}}}}}},computed:{headers:{get(){return[{text:this.$t("main.tables.headers.version"),align:"start",value:"version",sortable:!0},{text:this.$t("main.tables.headers.date"),align:"start",value:"date",sortable:!0},{text:this.$t("main.tables.headers.players"),align:"start",value:"players",sortable:!0},{text:this.$t("main.tables.headers.winner"),align:"start",value:"winner",sortable:!0},{text:this.$t("main.tables.headers.score"),align:"start",value:"score",sortable:!0},{text:this.$t("main.tables.headers.details"),align:"center",value:"details",sortable:!1},{text:this.$t("main.tables.headers.join"),align:"center",value:"actions",sortable:!1}]}},ticketHeaders:{get(){return[{text:this.$t("main.tables.headers.from"),align:"start",value:"from",sortable:!0,class:"primaryLight darkenBlack--text"},{text:this.$t("main.tables.headers.to"),align:"start",value:"to",sortable:!0,class:"primaryLight darkenBlack--text"},{text:this.$t("main.tables.headers.status"),align:"start",value:"status",sortable:!0,class:"primaryLight darkenBlack--text"}]}},harborsHeaders:{get(){return[{text:this.$t("main.tables.headers.city"),align:"start",value:"city",sortable:!1,class:"primaryLight darkenBlack--text"},{text:this.$t("main.tables.headers.points"),align:"start",value:"score",sortable:!1,class:"primaryLight darkenBlack--text"}]}},headersTicketsVersion:{get(){return[{text:this.$t("main.tables.headers.from"),align:"start",value:"cities[0].name",sortable:!0},{text:this.$t("main.tables.headers.to"),align:"start",value:"cities",sortable:!0},{text:this.$t("main.tables.headers.appeared"),align:"start",value:"occurrences",sortable:!0},{text:this.$t("main.tables.headers.win-rate"),align:"start",value:"winRate",sortable:!0},{text:this.$t("main.tables.headers.completion-rate"),align:"start",value:"completionRate",sortable:!0}]}},potentialPlayers:{get(){return[{text:this.$t("scoreboard.insights.player.additional.filter.players-value",{n:2}),value:2},{text:this.$t("scoreboard.insights.player.additional.filter.players-value",{n:3}),value:3},{text:this.$t("scoreboard.insights.player.additional.filter.players-value",{n:4}),value:4},{text:this.$t("scoreboard.insights.player.additional.filter.players-value",{n:5}),value:5}]}},computedLoading:{get(){return 0==Object.keys(this.computedMetadata).length}},computedHasHarbors:{get(){return this.selectedVersion&&this.selectedVersion.hasHarbors}},computedHasBonuses:{get(){return this.computedHasLongest&&this.computedHasGlobeTrotter}},computedHasLongest:{get(){return this.selectedVersion&&this.selectedVersion.hasLongest}},computedHasGlobeTrotter:{get(){return this.selectedVersion&&this.selectedVersion.hasBonusGlobeTrotter}},computedHasMandala:{get(){return this.selectedVersion&&this.selectedVersion.hasBonusMandala}},computedHasTrainStations:{get(){return this.selectedVersion&&this.selectedVersion.hasTrainStations}},computedMetadata:{get(){if(0==this.games.length)return{};{const t={players:new Set,versions:new Set,points:0,nbTickets:0,nbSuccessTickets:0,sharedFirst:0};let s=null,i=null;for(let a=0,n=this.games.length;a<n;a++)if(s=Object.assign({},this.games[a]),this.gameEnded(s))try{t.versions.add(s.version),s.draw&&(t.sharedFirst+=1);for(let e=1;e<=s.players;e++)i=Object.assign({},s[`player${e}`]),t.players.add(i.name),t.points+=i.score,t.nbTickets+=i.tickets.length,i.tickets.length>0&&(t.nbSuccessTickets+=i.tickets.filter((e=>!e.status.match(/fail/gi))).length)}catch(e){console.warn(`Game with id ${this.games[a].id} raised an error during computation`)}return t}}},computedInsightsTicketsVersion:{get(){return this.insightsFromVersion?.topTickets?this.insightsFromVersion.topTickets:[]}},computedPlayers:{get(){return Array.from(this.computedMetadata?.players||[])}}},methods:{openDetails(e){function t(e,t,s){let i=0,a=0;for(const[n,r]of Object.entries(e))i+=n*r,a+=s[n]*r;return{count:i,score:a-t}}function s(e){const t=-4*(3-e.length);return e.length>0?e.map((e=>e.score)).reduce(((e,t)=>e+t))+t:t}function i(e){let t=0,s=0;for(let i=0;i<e.length;i++){const a=e[i];"Done"==a.status?t+=a.points:"Fail"==a.status?(t+=a.points_failed?a.points_failed:-1*a.points,s+=1):t+=a.points_unorderded}return{score:t,totalFailed:s}}if(-1==this.gamesAndRules.findIndex((t=>t.name==e.version)))return this.popUp(this.$t("main.snackbar.error.version-unsupported"),"error");this.selectedVersion=Object.assign({},this.gamesAndRules.find((t=>t.name==e.version)));const a={date:e.date,version:e.version,winner:e.winner,score:e.score,rankings:e.rankings},n=[];let r="",o={};for(let c=0;c<e.players;c++)r=`player${c+1}`,e[r]&&(o=Object.assign({},e[r])),o.tickets&&(o.tickets=o.tickets.map((e=>({...e,...this.selectedVersion.tickets.find((t=>e.id==t.id))})))),n.push({...o,computedUnits:t(o.units||{},e.exchanges||0,this.selectedVersion.pointsPerRoute),computedHarbors:s(o.harbors||[]),computedTickets:i(o.tickets||[]),computedTrainStations:o.trainStations||0,computedLongest:this.selectedVersion.hasLongest?this.selectedVersion.longestPoints*(o.longestBonus||0):0});a.players=n,this.selectedGame=Object.assign({},a),this.dialogDetails=!0},hasWonMandalaBonus(e){return e?.mandalaBonus?.count>0},getMandalaBonusScore(e){return e?.mandalaBonus?.score||0},async deleteItem(e){try{const t=window.confirm("You are about to delete this game. Are you sure ?");t&&(await Hi.collection("Games").doc(e.id).delete(),console.log("Game deleted successfully"))}catch(t){console.warn("An error occured while deleting game : "+t)}},getTotalUnits(e){let t=0;for(let s=0;s<e.length;s++){const i=e[s];t+=i.computedUnits.count}return t},getTotalSuccessfulTickets(e){let t=0;for(let s=0;s<e.length;s++){const i=e[s];t+=(i.tickets?.length||0)-i.computedTickets.totalFailed}return t},gameEnded(e){const t=e?.players||0;for(let s=1;s<=t;s++)if(0==(e[`player${s}`]?.tickets?.length||0))return!1;return!0},computePlayerInsightsPerGameOptions(e){this.insightsPerGameOptions=Object.assign({},{chart:{type:"pie",background:e?this.$vuetify.theme.themes.dark.background:this.$vuetify.theme.themes.light.background},labels:[this.$t("scoreboard.insights.player.charts.players-number.label",{n:2}),this.$t("scoreboard.insights.player.charts.players-number.label",{n:3}),this.$t("scoreboard.insights.player.charts.players-number.label",{n:4}),this.$t("scoreboard.insights.player.charts.players-number.label",{n:5})],theme:{mode:e?"dark":"light",monochrome:{enabled:!0,color:e?this.$vuetify.theme.themes.dark.primary:this.$vuetify.theme.themes.light.primary}},legend:{position:"bottom"},title:{text:this.$t("scoreboard.insights.player.charts.players-number.title")}})},computeInsightsPlayerVersionOptions(e){this.insightsPlayerVersionOptions=Object.assign({},{chart:{type:"pie",background:e?this.$vuetify.theme.themes.dark.background:this.$vuetify.theme.themes.light.background},labels:this.gamesAndRules.map((e=>e.name)),theme:{mode:e?"dark":"light",monochrome:{enabled:!0,color:e?this.$vuetify.theme.themes.dark.secondary:this.$vuetify.theme.themes.light.secondary}},legend:{position:"bottom"},title:{text:this.$t("scoreboard.insights.player.charts.version.title")}})},computeUnitsToPoints(e,t){const s=[1,2,4,7,10,15,18,21,27];return Object.values(e).map(((e,t)=>e*s[t])).reduce(((e,t)=>e+t))-t},computeFromVersion(e){if(0==this.games.length)return{};{const t=this.insightsVersion.tickets,s={topTickets:t.map((e=>({...e,occurrences:0,resultWinDone:0,resultWinFail:0,resultWinUnordered:0,winRate:"0.0",completionRate:"0.0",resultLossDone:0,resultLossFail:0,resultLossUnordered:0}))),totalPoints:0,firstPlayerWins:0,numberOfGames:0,cumulPlayers:0,pointsTickets:0,pointsHarbors:0,pointsTrainStations:0,pointsUnits:0,pointsBonus:0},i=this.games.filter((t=>t.version==e));s.numberOfGames=i.length;let a=0,n=null,r=0,o=!1;for(const e of i)if(this.gameEnded(e)){a=e.players,s.cumulPlayers+=a;for(let t=1;t<=a;t++){n=Object.assign({},e[`player${t}`]),n.name==e.winner?(1==t&&s.firstPlayerWins++,o=!0):o=!1,s.totalPoints+=n.score,n.harbors&&(s.pointsHarbors+=n.harbors.map((e=>e.score)).reduce(((e,t)=>e+t),0)-4*(3-n.harbors.length)),n.units&&(s.pointsUnits+=this.computeUnitsToPoints(n.units,n.exchanges||0));for(const t of n.tickets)r=s.topTickets.findIndex((e=>e.id==t.id)),-1==r?console.log(e):(s.topTickets[r].occurrences++,t.status.match(/done/i)?o?s.topTickets[r].resultWinDone++:s.topTickets[r].resultLossDone++:t.status.match(/fail/i)?o?s.topTickets[r].resultWinFail++:s.topTickets[r].resultLossFail++:o?s.topTickets[r].resultWinUnordered++:s.topTickets[r].resultLossUnordered++,s.topTickets[r].winRate=Number.parseFloat(100*(s.topTickets[r].resultWinDone+s.topTickets[r].resultWinFail+s.topTickets[r].resultWinUnordered)/s.topTickets[r].occurrences).toFixed(1),s.topTickets[r].completionRate=Number.parseFloat(100*(s.topTickets[r].resultWinDone+s.topTickets[r].resultLossDone+s.topTickets[r].resultWinUnordered+s.topTickets[r].resultLossUnordered)/s.topTickets[r].occurrences).toFixed(1))}}return s}},computeFromPlayer(e){if(0==this.games.length)return{};{const t={totalGames:0,totalWins:0,totalDraws:0,playersPerGame:new Array(4).fill(0),versionPerGame:new Array(this.gamesAndRules.length).fill(0)},s=this.games||[];for(const i of s){const s=i.players||0;for(let a=1;a<=s;a++)i[`player${a}`]?.name==e&&0!=(i[`player${a}`]?.tickets?.length||0)&&(t.totalGames++,i.draw&&i.score==i.rankings.find((e=>e.name==this.insightsPlayer))?.score&&t.totalDraws++,i.winner==e&&t.totalWins++,t.playersPerGame[s-2]++,t.versionPerGame[this.gamesAndRules.findIndex((e=>e.name==i.version))]++)}return t}},computePlayerInsightsFromFilters(e,t){const s=this.games.filter((s=>(!t||s.version==t)&&(!e||s.players==e)&&s.rankings.some((e=>e.name==this.insightsPlayer)))),i={totalGames:0,totalWins:0,winRate:0,tickets:t?this.gamesAndRules.find((e=>e.name==t)).tickets.map((e=>({...e,occurrences:0,wins:0,completed:0,winRate:"0.0",completionRate:"0.0"}))):[]};if(0==s.length)return i;i.totalGames=s.length;for(const a of s){const e=!a.draw&&a.winner==this.insightsPlayer;if(e&&i.totalWins++,t){let t=this.getPlayerFromGame(a,this.insightsPlayer);for(let s=0,a=t?.tickets?.length||0;s<a;s++){const a=i.tickets.findIndex((e=>e.id==t?.tickets[s]?.id));-1!=a&&(i.tickets[a].occurrences++,e&&i.tickets[a].wins++,t.tickets[s].status.match(/fail/i)||i.tickets[a].completed++)}t=null}}return i.tickets=i.tickets.map((e=>({...e,winRate:0!=e.occurrences?Number.parseFloat(e.wins/e.occurrences*100).toFixed(1):e.winRate,completionRate:0!=e.occurrences?Number.parseFloat(e.completed/e.occurrences*100).toFixed(1):e.completionRate}))).sort(((e,t)=>t.occurrences-e.occurrences)),i.winRate=i.totalWins/i.totalGames,i},getPlayerFromGame(e,t){for(let s=1,i=e?.players||0;s<=i;s++)if(e[`player${s}`]?.name==t)return e[`player${s}`];return null},closeDetails(){this.dialogDetails=!1,this.selectedGame=null,this.selectedVersion=null},getStatusColor(e){return"Done"==e?"green":"Fail"==e?"red":"amber"},dateInRange(e){const t=new Date(Date.parse(e)),s=new Date;return t>new Date(s.setDate(s.getDate()-2))},joinGame(e){const t={id:e.id,version:e.version};this.$emit("joinGame",t)},popUp(e,t){this.$emit("popUp",{msg:e,color:t})},computeObjectFromFirebase(e){const t=e.data(),s=[];for(let r=0;r<t.players;r++){const e=t[`player${r+1}`];s.push({name:e.name,score:e.score})}s.sort(((e,t)=>t.score-e.score));const i=s[0].score,a=s.filter((e=>e.score==i));let n="";for(let r=0;r<a.length;r++)n+=0==r?a[r].name:`, ${a[r].name}`;return{id:e.id,...t,winner:n,score:i,rankings:s,draw:1!=a.length}},async getFirebaseData(){this.loadingData=!0;const e=await Hi.collection("Games").get(),t=[];e.forEach((e=>{t.push(this.computeObjectFromFirebase(e))})),this.games=t,this.loadingData=!1},async getRealTimeData(){this.loadingData=!0;const e=await Hi.collection("Games").orderBy("date").onSnapshot((e=>{e.docChanges().forEach((e=>{if("removed"==e.type)this.games.splice(this.games.findIndex((t=>t.id==e.doc.id)),1);else{const t=this.computeObjectFromFirebase(e.doc);"added"==e.type?this.games.unshift(t):"modified"==e.type&&this.games.splice(this.games.findIndex((t=>t.id==e.doc.id)),1,t)}}))}),(e=>{console.warn("Firebase query failed : "+e)}));this.unsubscribe=e,this.loadingData=!1}},mounted(){this.getRealTimeData()},beforeDestroy(){this.unsubscribe()}},xs=Gs,Ps=(0,F.c)(xs,Bs,ks,!1,null,null,null),Ms=Ps.exports,ws=function(){var e=this,t=e._self._c;return t("div")},Hs=[],$s={name:"TabHelp"},Ws=$s,Vs=(0,F.c)(Ws,ws,Hs,!1,null,null,null),Fs=Vs.exports;const Ks=[{id:1,name:"Pennsylvania Railroad",scores:[30,21,14,9,6]},{id:2,name:"Baltimore & Ohio Railroad",scores:[20,14,9,5,2]},{id:3,name:"Erie Lackawanna Railway",scores:[16,10,5,1]},{id:4,name:"Reading Railroad",scores:[14,9,5]},{id:5,name:"Lehigh Valley Railroad",scores:[12,7,3]},{id:6,name:"New York Central System",scores:[10,6,3]},{id:7,name:"Western Maryland Railway",scores:[9,5]},{id:8,name:"Jersey Central Line",scores:[8,5]},{id:9,name:"Buffalo, Rochester & Pittsburgh Railway",scores:[7,4]}];var Ys=s(4132);const js={WORLD:"Around The World",GREAT_LAKES:"Great Lakes",EUROPE:"Europe",FRANCE:"France",OLD_WEST:"Old West",INDIA:"India",PENNSYLVANIA:"Pennsylvania",UNITED_KINGDOM:"United Kingdom"};var Js=s(2200),zs=s(4164),Zs=s(6956),qs=s(3452),Qs=s(2380),Xs=s(7552),ei=s(9432);const ti=[{id:1,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ALTOONA,ei.y.BINGHAMTON],points:9},{id:2,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BALTIMORE,ei.y.ALBANY],points:16},{id:3,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BALTIMORE,ei.y.NEW_YORK],points:10},{id:4,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BALTIMORE,ei.y.PHILADELPHIA],points:4},{id:5,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BUFFALO,ei.y.BALTIMORE],points:16},{id:6,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BUFFALO,ei.y.HARRISBURG],points:13},{id:7,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BUFFALO,ei.y.JOHNSTOWN],points:10},{id:8,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BUFFALO,ei.y.NEW_YORK],points:18},{id:9,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.BUFFALO,ei.y.PHILADELPHIA],points:19},{id:10,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.CHAMBERSBURG,ei.y.SCRANTON],points:8},{id:11,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.COUDERSPORT,ei.y.BINGHAMTON],points:7},{id:12,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.CUMBERLAND,ei.y.HARRISBURG],points:4},{id:13,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.DUBOIS,ei.y.CUMBERLAND],points:6},{id:14,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.DUBOIS,ei.y.STROUDSBURG],points:12},{id:15,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ERIE,ei.y.ALBANY],points:20},{id:16,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ERIE,ei.y.ALTOONA],points:8},{id:17,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.GETTYSBURG,ei.y.READING],points:3},{id:18,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.HARRISBURG,ei.y.BALTIMORE],points:3},{id:19,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.HARRISBURG,ei.y.NEW_YORK],points:11},{id:20,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.HARRISBURG,ei.y.PHILADELPHIA],points:6},{id:21,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.JOHNSTOWN,ei.y.ELMIRA],points:10},{id:22,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.LEWISTON,ei.y.SYRACUSE],points:9},{id:23,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.MORGANTOWN,ei.y.CHAMBERSBURG],points:7},{id:24,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.MORGANTOWN,ei.y.WILLIAMSPORT],points:13},{id:25,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.NEW_YORK,ei.y.ATLANTIC_CITY],points:6},{id:26,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.OIL_CITY,ei.y.JOHNSTOWN],points:6},{id:27,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.OIL_CITY,ei.y.SCRANTON],points:14},{id:28,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ONTARIO,ei.y.PITTSBURGH],points:10},{id:29,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ONTARIO,ei.y.SYRACUSE],points:10},{id:30,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ONTARIO,ei.y.WARREN],points:5},{id:31,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PHILADELPHIA,ei.y.ATLANTIC_CITY],points:2},{id:32,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PHILADELPHIA,ei.y.NEW_YORK],points:6},{id:33,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PITTSBURGH,ei.y.BALTIMORE],points:13},{id:34,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PITTSBURGH,ei.y.BUFFALO],points:10},{id:35,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PITTSBURGH,ei.y.HARRISBURG],points:9},{id:36,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PITTSBURGH,ei.y.NEW_YORK],points:10},{id:37,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.PITTSBURGH,ei.y.PHILADELPHIA],points:15},{id:38,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ROCHESTER,ei.y.ELMIRA],points:3},{id:39,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.ROCHESTER,ei.y.READING],points:13},{id:40,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.SCRANTON,ei.y.ALLENTOWN],points:3},{id:41,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.SYRACUSE,ei.y.ALLENTOWN],points:8},{id:42,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.TOWANDA,ei.y.LANCASTER],points:9},{id:43,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.WARREN,ei.y.YORK],points:10},{id:44,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.WHEELING,ei.y.ALBANY],points:22},{id:45,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.WHEELING,ei.y.ALLENTOWN],points:15},{id:46,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.WHEELING,ei.y.ERIE],points:9},{id:47,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.WILLIAMSPORT,ei.y.ALBANY],points:10},{id:48,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.YOUGSTOWN,ei.y.MORGANTOWN],points:7},{id:49,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.YOUGSTOWN,ei.y.ROCHESTER],points:14},{id:50,game:js.PENNSYLVANIA,type:xt.E.ROUTE,cities:[ei.y.YOUGSTOWN,ei.y.SCRANTON],points:17}];var si=s(4080);const ii=[{id:1,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.ABERDEEN,si.c.GLASGOW],points:5},{id:2,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.ABERYSTWYTH,si.c.CARDIFF],points:2},{id:3,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.BELFAST,si.c.DUBLIN],points:4},{id:4,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.BELFAST,si.c.MANCHESTER],points:9},{id:5,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.BIRMINGHAM,si.c.CAMBRIDGE],points:2},{id:6,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.BIRMINGHAM,si.c.LONDON],points:4},{id:7,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.BRISTOL,si.c.SOUTHAMPTON],points:2},{id:8,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.CAMBRIDGE,si.c.LONDON],points:3},{id:9,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.CARDIFF,si.c.LONDON],points:8},{id:10,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.CARDIFF,si.c.READING],points:4},{id:11,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.CORK,si.c.LEEDS],points:13},{id:12,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.DUBLIN,si.c.CORK],points:6},{id:13,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.DUBLIN,si.c.LONDON],points:15},{id:14,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.DUNDALK,si.c.CARLISLE],points:7},{id:15,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.EDINBURGH,si.c.BIRMINGHAM],points:12},{id:16,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.EDINBURGH,si.c.LONDON],points:15},{id:17,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.FORT_WILLIAM,si.c.EDINBURGH],points:3},{id:18,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.GALWAY,si.c.BARROW],points:12},{id:19,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.GALWAY,si.c.DUBLIN],points:5},{id:20,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.GLASGOW,si.c.DUBLIN],points:9},{id:21,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.GLASGOW,si.c.FRANCE],points:19},{id:22,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.GLASGOW,si.c.MANCHESTER],points:11},{id:23,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.HOLYHEAD,si.c.CARDIFF],points:4},{id:24,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.INVERNESS,si.c.BELFAST],points:10},{id:25,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.INVERNESS,si.c.LEEDS],points:13},{id:26,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LEEDS,si.c.FRANCE],points:10},{id:27,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LEEDS,si.c.LONDON],points:6},{id:28,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LEEDS,si.c.MANCHESTER],points:1},{id:29,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LIMERICK,si.c.CARDIFF],points:12},{id:30,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LIVERPOOL,si.c.HULL],points:3},{id:31,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LIVERPOOL,si.c.LLANDRINDOD_WELLS],points:6},{id:32,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LIVERPOOL,si.c.SOUTHAMPTON],points:6},{id:33,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LONDON,si.c.BRIGHTON],points:3},{id:34,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LONDON,si.c.FRANCE],points:7},{id:35,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LONDONDERRY,si.c.BIRMINGHAM],points:15},{id:36,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LONDONDERRY,si.c.DUBLIN],points:6},{id:37,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.LONDONDERRY,si.c.STRANRAER],points:4},{id:38,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.MANCHESTER,si.c.LONDON],points:6},{id:39,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.MANCHESTER,si.c.NORWICH],points:6},{id:40,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.MANCHESTER,si.c.PLYMOUTH],points:8},{id:41,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.NEWCASTLE,si.c.HULL],points:3},{id:42,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.NEWCASTLE,si.c.SOUTHAMPTON],points:7},{id:43,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.NORTHAMPTON,si.c.DOVER],points:3},{id:44,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.NORWICH,si.c.IPSWICH],points:1},{id:45,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.NOTTINGHAM,si.c.IPSWICH],points:3},{id:46,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.PENZANCE,si.c.LONDON],points:10},{id:47,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.PLYMOUTH,si.c.READING],points:5},{id:48,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.ROSSLARE,si.c.ABERYSTWYTH],points:4},{id:49,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.ROSSLARE,si.c.CARMATHEN],points:6},{id:50,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.SLIGO,si.c.HOLYHEAD],points:9},{id:51,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.SOUTHAMPTON,si.c.LONDON],points:4},{id:52,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.STORNOWAY,si.c.ABERDEEN],points:5},{id:53,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.STORNOWAY,si.c.GLASGOW],points:7},{id:54,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.STRANRAER,si.c.TULLAMORE],points:6},{id:55,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.ULLAPOOL,si.c.DUNDEE],points:4},{id:56,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.WICK,si.c.DUNDEE],points:4},{id:57,game:js.UNITED_KINGDOM,type:xt.E.ROUTE,cities:[si.c.WICK,si.c.EDINBURGH],points:5}],ai=[{id:1,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MEXICO,Js._.BEIJING],points:13},{id:2,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.EDINBURGH,Js._.SYDNEY],points:25},{id:3,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LAGOS,Js._.TEHRAN],points:10},{id:4,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.ATHINA,Js._.MANILA],points:14},{id:5,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.VALPARAISO,Js._.RIO_DE_JANEIRO],points:6},{id:6,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.CAPE_TOWN,Js._.JAKARTA],points:13},{id:7,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.RIO_DE_JANEIRO,Js._.PERTH],points:17},{id:8,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MOSKVA,Js._.TOAMASINA],points:11},{id:9,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.HAMBURG,Js._.BEIJING],points:13},{id:10,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.RIO_DE_JANEIRO,Js._.DAR_ES_SALAAM],points:11},{id:11,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MOSKVA,Js._.HONG_KONG],points:13},{id:12,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.BUENOS_AIRES,Js._.MANILA],points:17},{id:13,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.NEW_YORK,Js._.CAPE_TOWN],points:19},{id:14,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MIAMI,Js._.MOSKVA],points:13},{id:15,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.NEW_YORK,Js._.MARSEILLE],points:10},{id:16,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.AL_QAHIRA,Js._.SYDNEY],points:19},{id:17,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.BUENOS_AIRES,Js._.SYDNEY],points:13},{id:18,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.CASABLANCA,Js._.YAKUTSK],points:16},{id:19,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.EDINBURGH,Js._.LUANDA],points:10},{id:20,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LOS_ANGELES,Js._.HAMBURG],points:14},{id:21,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LOS_ANGELES,Js._.DAR_ES_SALAAM],points:17},{id:22,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.EDINBURGH,Js._.HONG_KONG],points:17},{id:23,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.VANCOUVER,Js._.EDINBURGH],points:13},{id:24,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.WINNIPEG,Js._.PERTH],points:14},{id:25,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MEXICO,Js._.NEW_YORK],points:11},{id:26,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.HONG_KONG,Js._.JAKARTA],points:5},{id:27,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MARSEILLE,Js._.CHRISTCHURCH],points:23},{id:28,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MOSKVA,Js._.PETROPAVLOVSK],points:15},{id:29,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.RIO_DE_JANEIRO,Js._.TOKYO],points:20},{id:30,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.HAMBURG,Js._.DAR_ES_SALAAM],points:8},{id:31,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.DJIBOUTI,Js._.LAHORE],points:7},{id:32,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.EDINBURGH,Js._.TOKYO],points:22},{id:33,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LOS_ANGELES,Js._.RIO_DE_JANEIRO],points:15},{id:34,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LAGOS,Js._.HONG_KONG],points:14},{id:35,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.BUENOS_AIRES,Js._.MARSEILLE],points:18},{id:37,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.CASABLANCA,Js._.HONOLULU],points:16},{id:38,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LIMA,Js._.JAKARTA],points:14},{id:39,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MARSEILLE,Js._.JAKARTA],points:18},{id:40,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.RIO_DE_JANEIRO,Js._.HAMBURG],points:13},{id:41,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MARSEILLE,Js._.BEIJING],points:14},{id:42,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.LOS_ANGELES,Js._.JAKARTA],points:11},{id:43,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.NEW_YORK,Js._.TOKYO],points:15},{id:44,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.NEW_YORK,Js._.SYDNEY],points:17},{id:45,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.TOKYO,Js._.SYDNEY],points:11},{id:46,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.JAKARTA,Js._.SYDNEY],points:7},{id:47,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.BANGKOK,Js._.TOKYO],points:6},{id:48,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.REYKJAVIK,Js._.MUMBAI],points:13},{id:49,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.DAR_ES_SALAAM,Js._.TOKYO],points:15},{id:50,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MEXICO,Js._.MUMBAI],points:15},{id:51,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.CARACAS,Js._.AL_QAHIRA],points:13},{id:52,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.NEW_YORK,Js._.MUMBAI],points:19},{id:53,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MUMBAI,Js._.BEIJING],points:6},{id:54,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.CARACAS,Js._.ATHINA],points:12},{id:55,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MIAMI,Js._.BUENOS_AIRES],points:9},{id:56,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.VANCOUVER,Js._.MIAMI],points:9},{id:57,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.MARSEILLE,Js._.AL_QAHIRA],points:5},{id:58,game:js.WORLD,type:xt.E.ROUTE,cities:[Js._.NOVOSIBIRSK,Js._.DARWIN],points:13},{id:59,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.MURMANSK,Js._.TIKSI,Js._.NOVOSIBIRSK,Js._.YAKUTSK,Js._.PETROPAVLOVSK],points:30,points_unordered:20,points_failed:-36},{id:60,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.ANCHORAGE,Js._.CAMBRIDGE_BAY,Js._.REYKJAVIK,Js._.MURMANSK,Js._.TIKSI],points:34,points_unordered:23,points_failed:-40},{id:61,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.MANILA,Js._.HONOLULU,Js._.PORT_MORESBY,Js._.DARWIN],points:13,points_unordered:9,points_failed:-19},{id:62,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.ANCHORAGE,Js._.VANCOUVER,Js._.WINNIPEG,Js._.CAMBRIDGE_BAY],points:18,points_unordered:12,points_failed:-24},{id:63,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.TEHRAN,Js._.LAHORE,Js._.MUMBAI,Js._.BANGKOK],points:13,points_unordered:9,points_failed:-19},{id:64,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.CASABLANCA,Js._.AL_QAHIRA,Js._.TEHRAN],points:9,points_unordered:6,points_failed:-15},{id:65,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.LAGOS,Js._.LUANDA,Js._.DAR_ES_SALAAM,Js._.DJIBOUTI],points:9,points_unordered:6,points_failed:-15},{id:66,game:js.WORLD,type:xt.E.TOUR,cities:[Js._.MEXICO,Js._.CARACAS,Js._.LIMA,Js._.VALPARAISO],points:15,points_unordered:10,points_failed:-21}],ni=[{id:1,game:js.GREAT_LAKES,cities:[zs.w.SOUTH_BEND,zs.w.SYRACUSE],points:9},{id:2,game:js.GREAT_LAKES,cities:[zs.w.DULUTH,zs.w.NEW_YORK],points:24},{id:3,game:js.GREAT_LAKES,cities:[zs.w.MARQUETTE,zs.w.BUFFALO],points:8},{id:4,game:js.GREAT_LAKES,cities:[zs.w.PARRY_SOUND,zs.w.ROUYN_NORANDA],points:6},{id:5,game:js.GREAT_LAKES,cities:[zs.w.CLEVELAND,zs.w.TORONTO],points:4},{id:6,game:js.GREAT_LAKES,cities:[zs.w.MILWAUKEE,zs.w.MARQUETTE],points:8},{id:7,game:js.GREAT_LAKES,cities:[zs.w.MADISON,zs.w.PORT_ELGIN],points:10},{id:8,game:js.GREAT_LAKES,cities:[zs.w.MILWAUKEE,zs.w.PARRY_SOUND],points:8},{id:9,game:js.GREAT_LAKES,cities:[zs.w.WAUSAU,zs.w.SUDBURY],points:10},{id:10,game:js.GREAT_LAKES,cities:[zs.w.TOLEDO,zs.w.SCRANTON],points:8},{id:11,game:js.GREAT_LAKES,cities:[zs.w.EAU_CLAIRE,zs.w.GREEN_BAY],points:3},{id:12,game:js.GREAT_LAKES,cities:[zs.w.GREEN_BAY,zs.w.TORONTO],points:9},{id:13,game:js.GREAT_LAKES,cities:[zs.w.CEDAR_RAPIDS,zs.w.ALBANY],points:16},{id:14,game:js.GREAT_LAKES,cities:[zs.w.BAY_CITY,zs.w.SCRANTON],points:9},{id:15,game:js.GREAT_LAKES,cities:[zs.w.THUNDER_BAY,zs.w.TORONTO],points:9},{id:16,game:js.GREAT_LAKES,cities:[zs.w.DULUTH,zs.w.CHICAGO],points:10},{id:17,game:js.GREAT_LAKES,cities:[zs.w.GREEN_BAY,zs.w.TIMMINS],points:13},{id:18,game:js.GREAT_LAKES,cities:[zs.w.TORONTO,zs.w.OTTAWA],points:5},{id:19,game:js.GREAT_LAKES,cities:[zs.w.DULUTH,zs.w.ROUYN_NORANDA],points:14},{id:20,game:js.GREAT_LAKES,cities:[zs.w.CLEVELAND,zs.w.OTTAWA],points:7},{id:21,game:js.GREAT_LAKES,cities:[zs.w.MUSKEGON,zs.w.BUFFALO],points:9},{id:22,game:js.GREAT_LAKES,cities:[zs.w.BUFFALO,zs.w.ALBANY],points:4},{id:23,game:js.GREAT_LAKES,cities:[zs.w.CEDAR_RAPIDS,zs.w.SAULT_STE_MARIE],points:10},{id:24,game:js.GREAT_LAKES,cities:[zs.w.CHICAGO,zs.w.DETROIT],points:6},{id:25,game:js.GREAT_LAKES,cities:[zs.w.DULUTH,zs.w.TRAVERSE_CITY],points:7},{id:26,game:js.GREAT_LAKES,cities:[zs.w.THUNDER_BAY,zs.w.OTTAWA],points:17},{id:27,game:js.GREAT_LAKES,cities:[zs.w.CHICAGO,zs.w.TORONTO],points:11},{id:28,game:js.GREAT_LAKES,cities:[zs.w.CEDAR_RAPIDS,zs.w.CLEVELAND],points:11},{id:29,game:js.GREAT_LAKES,cities:[zs.w.SOUTH_BAYMOUTH,zs.w.DETROIT],points:4},{id:30,game:js.GREAT_LAKES,cities:[zs.w.SUDBURY,zs.w.NEW_YORK],points:12},{id:31,game:js.GREAT_LAKES,cities:[zs.w.MILWAUKEE,zs.w.ERIE],points:7},{id:32,game:js.GREAT_LAKES,cities:[zs.w.MADISON,zs.w.OTTAWA],points:18},{id:33,game:js.GREAT_LAKES,cities:[zs.w.PORT_ELGIN,zs.w.KINGSTON],points:5},{id:34,game:js.GREAT_LAKES,cities:[zs.w.TRAVERSE_CITY,zs.w.TOLEDO],points:6},{id:35,game:js.GREAT_LAKES,cities:[zs.w.MARATHON,zs.w.SOUTH_BEND],points:11},{id:36,game:js.GREAT_LAKES,cities:[zs.w.CHICAGO,zs.w.NEW_YORK],points:15},{id:37,game:js.GREAT_LAKES,cities:[zs.w.SAULT_STE_MARIE,zs.w.SYRACUSE],points:8},{id:38,game:js.GREAT_LAKES,cities:[zs.w.SAULT_STE_MARIE,zs.w.SUDBURY],points:4},{id:39,game:js.GREAT_LAKES,cities:[zs.w.SAULT_STE_MARIE,zs.w.MONTREAL],points:13},{id:40,game:js.GREAT_LAKES,cities:[zs.w.DULUTH,zs.w.DETROIT],points:12},{id:41,game:js.GREAT_LAKES,cities:[zs.w.GREEN_BAY,zs.w.CHICAGO],points:5},{id:42,game:js.GREAT_LAKES,cities:[zs.w.SYRACUSE,zs.w.MONTREAL],points:5},{id:43,game:js.GREAT_LAKES,cities:[zs.w.CHICAGO,zs.w.MONTREAL],points:16},{id:44,game:js.GREAT_LAKES,cities:[zs.w.EAU_CLAIRE,zs.w.TOLEDO],points:12},{id:45,game:js.GREAT_LAKES,cities:[zs.w.MUSKEGON,zs.w.BAY_CITY],points:6},{id:46,game:js.GREAT_LAKES,cities:[zs.w.MARATHON,zs.w.CLEVELAND],points:10},{id:47,game:js.GREAT_LAKES,cities:[zs.w.DETROIT,zs.w.MONTREAL],points:11},{id:48,game:js.GREAT_LAKES,cities:[zs.w.DETROIT,zs.w.NEW_YORK],points:12},{id:49,game:js.GREAT_LAKES,cities:[zs.w.MONTREAL,zs.w.NEW_YORK],points:9},{id:50,game:js.GREAT_LAKES,cities:[zs.w.CEDAR_RAPIDS,zs.w.WAUSAU],points:7},{id:51,game:js.GREAT_LAKES,cities:[zs.w.CHICAGO,zs.w.TIMMINS],points:15},{id:52,game:js.GREAT_LAKES,cities:[zs.w.MARQUETTE,zs.w.ALBANY],points:10},{id:53,game:js.GREAT_LAKES,cities:[zs.w.ERIE,zs.w.KINGSTON],points:4},{id:54,game:js.GREAT_LAKES,cities:[zs.w.DULUTH,zs.w.MONTREAL],points:19},{id:55,game:js.GREAT_LAKES,cities:[zs.w.SYRACUSE,zs.w.NEW_YORK],points:5}],ri=[{id:1,game:js.EUROPE,cities:[Zs.g.EDINBURGH,Zs.g.ATHINA],points:21,long:!0},{id:2,game:js.EUROPE,cities:[Zs.g.CADIZ,Zs.g.STOCKHOLM],points:21,long:!0},{id:3,game:js.EUROPE,cities:[Zs.g.KOBENHAVN,Zs.g.ERZURUM],points:21,long:!0},{id:4,game:js.EUROPE,cities:[Zs.g.BREST,Zs.g.PETROGRAD],points:20,long:!0},{id:5,game:js.EUROPE,cities:[Zs.g.PALERMO,Zs.g.MOSKVA],points:20,long:!0},{id:6,game:js.EUROPE,cities:[Zs.g.LISBOA,Zs.g.DANZIG],points:20,long:!0},{id:7,game:js.EUROPE,cities:[Zs.g.FRANKFURT,Zs.g.SMOLENSK],points:13,long:!1},{id:8,game:js.EUROPE,cities:[Zs.g.BERLIN,Zs.g.MOSKVA],points:12,long:!1},{id:9,game:js.EUROPE,cities:[Zs.g.AMSTERDAM,Zs.g.WILNO],points:12,long:!1},{id:10,game:js.EUROPE,cities:[Zs.g.ATHINA,Zs.g.WILNO],points:11,long:!1},{id:11,game:js.EUROPE,cities:[Zs.g.STOCKHOLM,Zs.g.WIEN],points:11,long:!1},{id:12,game:js.EUROPE,cities:[Zs.g.ANGORA,Zs.g.KHARKOV],points:10,long:!1},{id:13,game:js.EUROPE,cities:[Zs.g.ESSEN,Zs.g.KYIV],points:10,long:!1},{id:14,game:js.EUROPE,cities:[Zs.g.RIGA,Zs.g.BUCURESTI],points:10,long:!1},{id:15,game:js.EUROPE,cities:[Zs.g.VENEZIA,Zs.g.CONSTANTINOPLE],points:10,long:!1},{id:16,game:js.EUROPE,cities:[Zs.g.LONDON,Zs.g.WIEN],points:10,long:!1},{id:17,game:js.EUROPE,cities:[Zs.g.BRUXELLES,Zs.g.DANZIG],points:9,long:!1},{id:18,game:js.EUROPE,cities:[Zs.g.BERLIN,Zs.g.ROMA],points:9,long:!1},{id:19,game:js.EUROPE,cities:[Zs.g.KYIV,Zs.g.SOCHI],points:8,long:!1},{id:20,game:js.EUROPE,cities:[Zs.g.ROMA,Zs.g.SMYRNA],points:8,long:!1},{id:21,game:js.EUROPE,cities:[Zs.g.BERLIN,Zs.g.BUCURESTI],points:8,long:!1},{id:22,game:js.EUROPE,cities:[Zs.g.SARAJEVO,Zs.g.SEVASTOPOL],points:8,long:!1},{id:23,game:js.EUROPE,cities:[Zs.g.SMOLENSK,Zs.g.ROSTOV],points:8,long:!1},{id:24,game:js.EUROPE,cities:[Zs.g.BARCELONA,Zs.g.MUNCHEN],points:8,long:!1},{id:25,game:js.EUROPE,cities:[Zs.g.BARCELONA,Zs.g.BRUXELLES],points:8,long:!1},{id:26,game:js.EUROPE,cities:[Zs.g.MARSEILLE,Zs.g.ESSEN],points:8,long:!1},{id:27,game:js.EUROPE,cities:[Zs.g.MADRID,Zs.g.DIEPPE],points:8,long:!1},{id:28,game:js.EUROPE,cities:[Zs.g.PALERMO,Zs.g.CONSTANTINOPLE],points:8,long:!1},{id:29,game:js.EUROPE,cities:[Zs.g.BREST,Zs.g.VENEZIA],points:8,long:!1},{id:30,game:js.EUROPE,cities:[Zs.g.PARIS,Zs.g.WIEN],points:8,long:!1},{id:31,game:js.EUROPE,cities:[Zs.g.MADRID,Zs.g.ZURICH],points:8,long:!1},{id:32,game:js.EUROPE,cities:[Zs.g.AMSTERDAM,Zs.g.PAMPLONA],points:7,long:!1},{id:33,game:js.EUROPE,cities:[Zs.g.EDINBURGH,Zs.g.PARIS],points:7,long:!1},{id:34,game:js.EUROPE,cities:[Zs.g.LONDON,Zs.g.BERLIN],points:7,long:!1},{id:35,game:js.EUROPE,cities:[Zs.g.PARIS,Zs.g.ZAGRAB],points:7,long:!1},{id:36,game:js.EUROPE,cities:[Zs.g.BREST,Zs.g.MARSEILLE],points:7,long:!1},{id:37,game:js.EUROPE,cities:[Zs.g.KYIV,Zs.g.PETROGRAD],points:6,long:!1},{id:38,game:js.EUROPE,cities:[Zs.g.ZURICH,Zs.g.BUDAPEST],points:6,long:!1},{id:39,game:js.EUROPE,cities:[Zs.g.ZURICH,Zs.g.BRINDISI],points:6,long:!1},{id:40,game:js.EUROPE,cities:[Zs.g.ZAGRAB,Zs.g.BRINDISI],points:6,long:!1},{id:41,game:js.EUROPE,cities:[Zs.g.WARSZAWA,Zs.g.SMOLENSK],points:6,long:!1},{id:42,game:js.EUROPE,cities:[Zs.g.SOFIA,Zs.g.SMYRNA],points:5,long:!1},{id:43,game:js.EUROPE,cities:[Zs.g.ATHINA,Zs.g.ANGORA],points:5,long:!1},{id:44,game:js.EUROPE,cities:[Zs.g.FRANKFURT,Zs.g.KOBENHAVN],points:5,long:!1},{id:45,game:js.EUROPE,cities:[Zs.g.ERZURUM,Zs.g.ROSTOV],points:5,long:!1},{id:46,game:js.EUROPE,cities:[Zs.g.BUDAPEST,Zs.g.SOFIA],points:5,long:!1}],oi=[{id:1,game:js.FRANCE,cities:[qs.E.REIMS,qs.E.ORLEANS],points:3},{id:2,game:js.FRANCE,cities:[qs.E.CHERBOURG,qs.E.PARIS],points:4},{id:3,game:js.FRANCE,cities:[qs.E.DIJON,qs.E.GRENOBLE],points:5},{id:4,game:js.FRANCE,cities:[qs.E.LE_HAVRE,qs.E.BOURGES],points:5},{id:5,game:js.FRANCE,cities:[qs.E.BORDEAUX,qs.E.CLERMONT_FERRAND],points:6},{id:6,game:js.FRANCE,cities:[qs.E.TOURS,qs.E.DIJON],points:6},{id:7,game:js.FRANCE,cities:[qs.E.MULHOUSE,qs.E.LYON],points:6},{id:8,game:js.FRANCE,cities:[qs.E.LYON,qs.E.MARSEILLE],points:6},{id:9,game:js.FRANCE,cities:[qs.E.PARIS,qs.E.STRASBOURG],points:7},{id:10,game:js.FRANCE,cities:[qs.E.LE_MANS,qs.E.BORDEAUX],points:7},{id:11,game:js.FRANCE,cities:[qs.E.LA_ROCHELLE,qs.E.TOULOUSE],points:7},{id:12,game:js.FRANCE,cities:[qs.E.LYON,qs.E.TOULOUSE],points:7},{id:13,game:js.FRANCE,cities:[qs.E.PARIS,qs.E.BRIVE_LA_GAILLARDE],points:7},{id:14,game:js.FRANCE,cities:[qs.E.NANTES,qs.E.PAU],points:8},{id:15,game:js.FRANCE,cities:[qs.E.METZ,qs.E.ANGERS],points:8},{id:16,game:js.FRANCE,cities:[qs.E.LILLE,qs.E.SAINT_MALO],points:8},{id:17,game:js.FRANCE,cities:[qs.E.PARIS,qs.E.LYON],points:8},{id:18,game:js.FRANCE,cities:[qs.E.TOULOUSE,qs.E.CORSE],points:8},{id:19,game:js.FRANCE,cities:[qs.E.LILLE,qs.E.POITIERS],points:8},{id:20,game:js.FRANCE,cities:[qs.E.CALAIS,qs.E.NANTES],points:9},{id:21,game:js.FRANCE,cities:[qs.E.SUISSE,qs.E.MARSEILLE],points:9},{id:22,game:js.FRANCE,cities:[qs.E.CALAIS,qs.E.ALLEMAGNE],points:9},{id:23,game:js.FRANCE,cities:[qs.E.LILLE,qs.E.DIJON],points:9},{id:24,game:js.FRANCE,cities:[qs.E.DIJON,qs.E.MONTPELLIER],points:9},{id:25,game:js.FRANCE,cities:[qs.E.CHERBOURG,qs.E.LIMOGES],points:9},{id:26,game:js.FRANCE,cities:[qs.E.BREST,qs.E.PARIS],points:9},{id:27,game:js.FRANCE,cities:[qs.E.TOULOUSE,qs.E.NICE],points:9},{id:28,game:js.FRANCE,cities:[qs.E.RENNES,qs.E.BAYONNE],points:10},{id:29,game:js.FRANCE,cities:[qs.E.RENNES,qs.E.NANCY],points:10},{id:30,game:js.FRANCE,cities:[qs.E.BORDEAUX,qs.E.MARSEILLE],points:10},{id:31,game:js.FRANCE,cities:[qs.E.LORIENT,qs.E.RODEZ],points:10},{id:32,game:js.FRANCE,cities:[qs.E.LE_MANS,qs.E.SUISSE],points:10},{id:33,game:js.FRANCE,cities:[qs.E.STRASBOURG,qs.E.AVIGNON],points:11},{id:34,game:js.FRANCE,cities:[qs.E.PARIS,qs.E.BAYONNE],points:11},{id:35,game:js.FRANCE,cities:[qs.E.ROUEN,qs.E.GRENOBLE],points:11},{id:36,game:js.FRANCE,cities:[qs.E.LA_ROCHELLE,qs.E.MONTPELLIER],points:11},{id:37,game:js.FRANCE,cities:[qs.E.BREST,qs.E.CLERMONT_FERRAND],points:11},{id:38,game:js.FRANCE,cities:[qs.E.RENNES,qs.E.LYON],points:11},{id:39,game:js.FRANCE,cities:[qs.E.LORIENT,qs.E.ESPAGNE],points:12},{id:40,game:js.FRANCE,cities:[qs.E.ALLEMAGNE,qs.E.AVIGNON],points:12},{id:41,game:js.FRANCE,cities:[qs.E.BESANCON,qs.E.BORDEAUX],points:12},{id:42,game:js.FRANCE,cities:[qs.E.ANGERS,qs.E.BRIANCON],points:12},{id:43,game:js.FRANCE,cities:[qs.E.BREST,qs.E.BELGIQUE],points:12},{id:44,game:js.FRANCE,cities:[qs.E.ESPAGNE,qs.E.ITALIE],points:12},{id:45,game:js.FRANCE,cities:[qs.E.BELGIQUE,qs.E.SUISSE],points:12},{id:46,game:js.FRANCE,cities:[qs.E.BELGIQUE,qs.E.BRIVE_LA_GAILLARDE],points:12},{id:47,game:js.FRANCE,cities:[qs.E.AMIENS,qs.E.MONTPELLIER],points:13},{id:48,game:js.FRANCE,cities:[qs.E.STRASBOURG,qs.E.LIMOGES],points:13},{id:49,game:js.FRANCE,cities:[qs.E.STRASBOURG,qs.E.ITALIE],points:13},{id:50,game:js.FRANCE,cities:[qs.E.REIMS,qs.E.TOULOUSE],points:13},{id:51,game:js.FRANCE,cities:[qs.E.NANCY,qs.E.MARSEILLE],points:13},{id:52,game:js.FRANCE,cities:[qs.E.PARIS,qs.E.MARSEILLE],points:14},{id:53,game:js.FRANCE,cities:[qs.E.PARIS,qs.E.NICE],points:14},{id:54,game:js.FRANCE,cities:[qs.E.NANTES,qs.E.NICE],points:15},{id:55,game:js.FRANCE,cities:[qs.E.STRASBOURG,qs.E.CORSE],points:15},{id:56,game:js.FRANCE,cities:[qs.E.METZ,qs.E.PERPIGNAN],points:16},{id:57,game:js.FRANCE,cities:[qs.E.LE_HAVRE,qs.E.MARSEILLE],points:16},{id:58,game:js.FRANCE,cities:[qs.E.ALLEMAGNE,qs.E.ESPAGNE],points:18}],ci=[{id:1,game:js.OLD_WEST,cities:[Qs.y.SAN_FRANCISCO,Qs.y.LOS_ANGELES],points:4},{id:2,game:js.OLD_WEST,cities:[Qs.y.SALT_LAKE_CITY,Qs.y.CHEYENNE],points:5},{id:3,game:js.OLD_WEST,cities:[Qs.y.SEATTLE,Qs.y.ASHLAND],points:5},{id:4,game:js.OLD_WEST,cities:[Qs.y.LAS_VEGAS,Qs.y.TUCSON],points:5},{id:5,game:js.OLD_WEST,cities:[Qs.y.HELENA,Qs.y.SALT_LAKE_CITY],points:6},{id:6,game:js.OLD_WEST,cities:[Qs.y.SAN_DIEGO,Qs.y.FLAGSTAFF],points:6},{id:7,game:js.OLD_WEST,cities:[Qs.y.PORTLAND,Qs.y.SACRAMENTO],points:6},{id:8,game:js.OLD_WEST,cities:[Qs.y.EUGENE,Qs.y.SAN_FRANCISCO],points:6},{id:9,game:js.OLD_WEST,cities:[Qs.y.SAN_FRANCISCO,Qs.y.BOISE],points:7},{id:10,game:js.OLD_WEST,cities:[Qs.y.SALT_LAKE_CITY,Qs.y.PHOENIX],points:7},{id:11,game:js.OLD_WEST,cities:[Qs.y.ST_GEORGE,Qs.y.GILLETTE],points:8},{id:12,game:js.OLD_WEST,cities:[Qs.y.WINNEMUCCA,Qs.y.CASPER],points:8},{id:13,game:js.OLD_WEST,cities:[Qs.y.IDAHO_FALLS,Qs.y.LAS_VEGAS],points:8},{id:14,game:js.OLD_WEST,cities:[Qs.y.PHOENIX,Qs.y.PUEBLO],points:8},{id:15,game:js.OLD_WEST,cities:[Qs.y.BOISE,Qs.y.GRAND_JUNCTION],points:8},{id:16,game:js.OLD_WEST,cities:[Qs.y.FRESNO,Qs.y.PHOENIX],points:8},{id:17,game:js.OLD_WEST,cities:[Qs.y.CASPER,Qs.y.ALBUQUERQUE],points:8},{id:18,game:js.OLD_WEST,cities:[Qs.y.BEND,Qs.y.LOS_ANGELES],points:9},{id:19,game:js.OLD_WEST,cities:[Qs.y.SEATTLE,Qs.y.GREAT_FALLS],points:9},{id:20,game:js.OLD_WEST,cities:[Qs.y.GREEN_RIVER,Qs.y.SANTA_FE],points:9},{id:21,game:js.OLD_WEST,cities:[Qs.y.LAS_VEGAS,Qs.y.DENVER],points:9},{id:22,game:js.OLD_WEST,cities:[Qs.y.LOS_ANGELES,Qs.y.SALT_LAKE_CITY],points:9},{id:23,game:js.OLD_WEST,cities:[Qs.y.BOZEMAN,Qs.y.DENVER],points:9},{id:24,game:js.OLD_WEST,cities:[Qs.y.EUGENE,Qs.y.MISSOULA],points:9},{id:25,game:js.OLD_WEST,cities:[Qs.y.BOISE,Qs.y.SAN_DIEGO],points:10},{id:26,game:js.OLD_WEST,cities:[Qs.y.SPOKANE,Qs.y.REDDING],points:10},{id:27,game:js.OLD_WEST,cities:[Qs.y.DENVER,Qs.y.TUCSON],points:10},{id:28,game:js.OLD_WEST,cities:[Qs.y.BEND,Qs.y.LAS_VEGAS],points:10},{id:29,game:js.OLD_WEST,cities:[Qs.y.SAN_DIEGO,Qs.y.ALBUQUERQUE],points:10},{id:30,game:js.OLD_WEST,cities:[Qs.y.PORTLAND,Qs.y.SALT_LAKE_CITY],points:10},{id:31,game:js.OLD_WEST,cities:[Qs.y.MISSOULA,Qs.y.CHEYENNE],points:10},{id:32,game:js.OLD_WEST,cities:[Qs.y.BILLINGS,Qs.y.DURANGO],points:11},{id:33,game:js.OLD_WEST,cities:[Qs.y.IDAHO_FALLS,Qs.y.BAKERSFIELD],points:11},{id:34,game:js.OLD_WEST,cities:[Qs.y.LOS_ANGELES,Qs.y.SANTA_FE],points:11},{id:35,game:js.OLD_WEST,cities:[Qs.y.BOISE,Qs.y.WOLF_POINT],points:11},{id:36,game:js.OLD_WEST,cities:[Qs.y.BILLINGS,Qs.y.ALBUQUERQUE],points:12},{id:37,game:js.OLD_WEST,cities:[Qs.y.LOS_ANGELES,Qs.y.DENVER],points:12},{id:38,game:js.OLD_WEST,cities:[Qs.y.SAN_FRANCISCO,Qs.y.HELENA],points:12},{id:39,game:js.OLD_WEST,cities:[Qs.y.CARSON_CITY,Qs.y.ALBUQUERQUE],points:12},{id:40,game:js.OLD_WEST,cities:[Qs.y.SEATTLE,Qs.y.LOS_ANGELES],points:12},{id:41,game:js.OLD_WEST,cities:[Qs.y.GREAT_FALLS,Qs.y.PHOENIX],points:14},{id:42,game:js.OLD_WEST,cities:[Qs.y.SAN_FRANCISCO,Qs.y.DENVER],points:15},{id:43,game:js.OLD_WEST,cities:[Qs.y.HELENA,Qs.y.LAS_CRUCES],points:15},{id:44,game:js.OLD_WEST,cities:[Qs.y.SACRAMENTO,Qs.y.LAS_CRUCES],points:15},{id:45,game:js.OLD_WEST,cities:[Qs.y.SPOKANE,Qs.y.PHOENIX],points:16},{id:46,game:js.OLD_WEST,cities:[Qs.y.SEATTLE,Qs.y.FLAGSTAFF],points:16},{id:47,game:js.OLD_WEST,cities:[Qs.y.LOS_ANGELES,Qs.y.BILLINGS],points:16},{id:48,game:js.OLD_WEST,cities:[Qs.y.SPOKANE,Qs.y.ALBUQUERQUE],points:16},{id:49,game:js.OLD_WEST,cities:[Qs.y.SEATTLE,Qs.y.DENVER],points:17},{id:50,game:js.OLD_WEST,cities:[Qs.y.SEATTLE,Qs.y.ROSWELL],points:21}],li=[{id:1,game:js.INDIA,cities:[Xs.C.JARHAT,Xs.C.BOMBAY],points:13},{id:2,game:js.INDIA,cities:[Xs.C.JACOBABAD,Xs.C.RATIAM],points:9},{id:3,game:js.INDIA,cities:[Xs.C.AMBALA,Xs.C.MORMUGAU],points:10},{id:4,game:js.INDIA,cities:[Xs.C.CALCUTTA,Xs.C.ERODE],points:9},{id:5,game:js.INDIA,cities:[Xs.C.JODHPUR,Xs.C.KHANDWA],points:5},{id:6,game:js.INDIA,cities:[Xs.C.BAREILLY,Xs.C.CALCUTTA],points:6},{id:7,game:js.INDIA,cities:[Xs.C.PESHAWAR,Xs.C.MADRAS],points:17},{id:8,game:js.INDIA,cities:[Xs.C.BAREILLY,Xs.C.AHMADABAD],points:5},{id:9,game:js.INDIA,cities:[Xs.C.JODHPUR,Xs.C.LUCKNOW],points:5},{id:10,game:js.INDIA,cities:[Xs.C.BHATINDA,Xs.C.BILASPUR],points:7},{id:11,game:js.INDIA,cities:[Xs.C.RATIAM,Xs.C.BEZWADA],points:8},{id:12,game:js.INDIA,cities:[Xs.C.ROHRI,Xs.C.MANGALORE],points:12},{id:13,game:js.INDIA,cities:[Xs.C.RATIAM,Xs.C.MANMAD],points:5},{id:14,game:js.INDIA,cities:[Xs.C.KATNI,Xs.C.WALTAIN],points:5},{id:15,game:js.INDIA,cities:[Xs.C.JACOBABAD,Xs.C.BOMBAY],points:10},{id:16,game:js.INDIA,cities:[Xs.C.MANMAD,Xs.C.ERODE],points:7},{id:17,game:js.INDIA,cities:[Xs.C.BHATINDA,Xs.C.BEZWADA],points:13},{id:18,game:js.INDIA,cities:[Xs.C.LAHORE,Xs.C.DHUBRI],points:12},{id:19,game:js.INDIA,cities:[Xs.C.DELHI,Xs.C.CHITTAGONG],points:9},{id:20,game:js.INDIA,cities:[Xs.C.LUCKNOW,Xs.C.BOMBAY],points:7},{id:21,game:js.INDIA,cities:[Xs.C.JAIPUR,Xs.C.RAIPUR],points:5},{id:22,game:js.INDIA,cities:[Xs.C.PATNA,Xs.C.MORMUGAU],points:10},{id:23,game:js.INDIA,cities:[Xs.C.BOMBAY,Xs.C.BEZWADA],points:5},{id:24,game:js.INDIA,cities:[Xs.C.AGRA,Xs.C.JARHAT],points:8},{id:25,game:js.INDIA,cities:[Xs.C.JACOBABAD,Xs.C.CALCUTTA],points:13},{id:26,game:js.INDIA,cities:[Xs.C.MADRAS,Xs.C.QUILON],points:6},{id:27,game:js.INDIA,cities:[Xs.C.JAIPUR,Xs.C.POONA],points:5},{id:28,game:js.INDIA,cities:[Xs.C.KARACHI,Xs.C.POONA],points:7},{id:29,game:js.INDIA,cities:[Xs.C.LUCKNOW,Xs.C.ERODE],points:11},{id:30,game:js.INDIA,cities:[Xs.C.AMBALA,Xs.C.RATIAM],points:5},{id:31,game:js.INDIA,cities:[Xs.C.KARACHI,Xs.C.DELHI],points:7},{id:32,game:js.INDIA,cities:[Xs.C.LAHORE,Xs.C.DELHI],points:5},{id:33,game:js.INDIA,cities:[Xs.C.RAIPUR,Xs.C.GUNTAKAL],points:7},{id:34,game:js.INDIA,cities:[Xs.C.AMBALA,Xs.C.WALTAIN],points:9},{id:35,game:js.INDIA,cities:[Xs.C.JODHPUR,Xs.C.GUNTAKAL],points:9},{id:36,game:js.INDIA,cities:[Xs.C.KATNI,Xs.C.KHANDWA],points:5},{id:37,game:js.INDIA,cities:[Xs.C.CALCUTTA,Xs.C.INDUR],points:8},{id:38,game:js.INDIA,cities:[Xs.C.KARACHI,Xs.C.AHMADABAD],points:6},{id:39,game:js.INDIA,cities:[Xs.C.BOMBAY,Xs.C.QUILON],points:6},{id:40,game:js.INDIA,cities:[Xs.C.BILASPUR,Xs.C.CALICUT],points:10},{id:41,game:js.INDIA,cities:[Xs.C.BAREILLY,Xs.C.GUNTAKAL],points:10},{id:42,game:js.INDIA,cities:[Xs.C.ROHRI,Xs.C.AGRA],points:7},{id:43,game:js.INDIA,cities:[Xs.C.BHATINDA,Xs.C.MANMAD],points:9},{id:44,game:js.INDIA,cities:[Xs.C.PATNA,Xs.C.MADRAS],points:9},{id:45,game:js.INDIA,cities:[Xs.C.WALTAIN,Xs.C.MANGALORE],points:6},{id:46,game:js.INDIA,cities:[Xs.C.DHUBRI,Xs.C.MANGALORE],points:12},{id:47,game:js.INDIA,cities:[Xs.C.BILASPUR,Xs.C.DHUBRI],points:5},{id:48,game:js.INDIA,cities:[Xs.C.AHMADABAD,Xs.C.CALICUT],points:7},{id:49,game:js.INDIA,cities:[Xs.C.JAIPUR,Xs.C.PATNA],points:5},{id:50,game:js.INDIA,cities:[Xs.C.DELHI,Xs.C.INDUR],points:9},{id:51,game:js.INDIA,cities:[Xs.C.CHITTAGONG,Xs.C.WADI],points:11},{id:52,game:js.INDIA,cities:[Xs.C.KHANDWA,Xs.C.CHITTAGONG],points:10},{id:53,game:js.INDIA,cities:[Xs.C.PESHAWAR,Xs.C.BHOPAL],points:9},{id:54,game:js.INDIA,cities:[Xs.C.DELHI,Xs.C.CALICUT],points:11},{id:55,game:js.INDIA,cities:[Xs.C.KATNI,Xs.C.WADI],points:8},{id:56,game:js.INDIA,cities:[Xs.C.BHOPAL,Xs.C.MORMUGAU],points:5},{id:57,game:js.INDIA,cities:[Xs.C.LAHORE,Xs.C.WADI],points:13},{id:58,game:js.INDIA,cities:[Xs.C.BHOPAL,Xs.C.CALCUTTA],points:6}],ui={World:ai,GreatLakes:ni,Europe:ri,France:oi,OldWest:ci,India:li,Pennsylvania:ti,UnitedKingdom:ii},di=Ys.create("Around The World",60,ui.World,-12,{1:1,2:2,3:4,4:7,5:10,6:15,7:18,8:21},6,2,!0,!0,3,-4,[20,30,40]),mi=Ys.create("Great Lakes",50,ui.GreatLakes,-12,{1:1,2:2,3:4,4:7,5:10,6:15,7:18,8:21,9:27},6,2,!0,!0,3,-4,[10,20,30]),pi=Ys.create("Europe",45,ui.Europe,12,{1:1,2:2,3:4,4:7,6:15,8:21},2,1,!1,!1,0,0,null,3,4,0,10),gi=Ys.create("France",40,ui.France,0,{1:1,2:2,3:4,4:7,5:10,6:18},2,1,!1,!1,0,0,null,0,0,0,10,15),hi=Ys.create("India",45,ui.India,0,{1:1,2:2,3:4,4:7,6:18,8:21},2,1,!1,!1,0,0,null,0,0,0,10,0,!0),Ei=Ys.create("Pennsylvanie",45,ui.Pennsylvania,0,{1:1,2:2,3:4,4:7,5:10,6:15,7:18},2,1,!1,!1,0,0,null,0,0,null,0,15,!1,!0,Ks),Ai=Ys.create("United Kingdom",35,ui.UnitedKingdom,0,{1:1,2:2,3:4,4:7,5:10,6:15,10:40},2,1,!1,!1,0,0,null,0,0,null,0,0,!1,!1,null,!0),Ri=[di,mi,pi,gi,hi,Ei,Ai];var Si={name:"App",components:{TabCurrentGame:Us,TabScoreboard:Ms,TabHelp:Fs},data:()=>({players:3,version:null,names:{1:"",2:"",3:"",4:"",5:""},defaultNames:{1:"",2:"",3:"",4:"",5:""},date:(new Date).toISOString().substr(0,10),menu:!1,menuSettings:!1,tab:null,newGameForm:!1,dialogCreate:!1,dialogWrongTickets:!1,currentGameId:"",currentGameVersion:{},currentGamePlayers:[],loadingCreate:!1,gamesAndRules:Ri,appLoaded:!1,snack:!1,snackColor:"",snackMsg:""}),watch:{gamesAndRules:{immediate:!0,handler(e){e&&(this.appLoaded=!0)}}},computed:{computedTheme:{get(){return this.$vuetify.theme.dark},set(e){this.$vuetify.theme.dark=e,localStorage.setItem("dark-theme",e)}},computedLang:{get(){return!!this.$i18n.locale?.match(/^fr/gi)&&"fr"==this.$i18n.locale.match(/^fr/gi)[0].toString().toLowerCase()},set(e){this.$i18n.locale=e?"fr":"en",localStorage.setItem("lang",this.$i18n.locale)}}},methods:{openCreate(){this.dialogCreate=!0,this.updateTodaysDate()},closeCreate(){this.dialogCreate=!1,this.loadingCreate=!1,this.players=3,this.names=Object.assign({},this.defaultNames),this.version=null,setTimeout((()=>{this.$refs.newGameForm.resetValidation()}),50)},updateTodaysDate(){this.date=(new Date).toISOString().substr(0,10)},async actOnJoinGame(e){this.$refs.currentGame.getRoutes().filter((t=>t.game!=e.version)).length>0?this.dialogWrongTickets=!0:(await this.resetGameSession(),this.currentGameId=e.id,this.currentGameVersion=Object.assign({},this.gamesAndRules.find((t=>t.name==e.version)))),this.tab=0},ruleNewVersion(e){return null!=e||this.$t("app.new.form.version")},ruleNewPlayer(e){return null==e||e?.length<1?this.$t("app.new.form.player"):(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"")!=e?this.$t("app.new.form.accent"):e.length>1&&!/\d/.test(e)||this.$t("app.new.form.invalid-player")},resetGameSession(){return new Promise(((e,t)=>{try{this.currentGameId="",this.currentGameVersion={},this.currentGamePlayers=new Array,e()}catch(s){t(this.$t("app.error.reset-game-session"))}}))},findVersion(e){this.currentGameVersion=this.gamesAndRules.find((t=>t.name==e.version))},async createGame(){this.loadingCreate=!0,this.$refs.currentGame.resetAll();try{await this.resetGameSession()}catch(s){this.popUp({color:"error",msg:s})}const e={date:this.date,players:this.players,version:this.version.name};for(let i=1;i<=this.players;i++){this.names[i]=this.cleanName(this.names[i]);const t=`player${i}`;e[t]={name:this.names[i],score:this.version.initialScore,tickets:[]}}const t=await Hi.collection("Games").add(e);this.currentGameId=t.id,this.currentGameVersion=Object.assign({},this.version),this.currentGamePlayers=Object.values(this.names).splice(0,this.players),this.closeCreate()},cleanName(e=""){const t=e.toLowerCase().split(" ").filter((e=>e)).map(this.capitalizeFirstLetter).join(" ");return t.split("-").filter((e=>e)).map(this.capitalizeFirstLetter).join("-")},capitalizeFirstLetter(e=""){return e?.charAt(0).toUpperCase()+e?.slice(1)},popUp(e){this.snackColor=e.color,this.snackMsg=e.msg,this.snack=!0},computeLabel(e){return this.$t("app.new.player-label",{id:e})},toggleTheme(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark},getNavigatorLanguage(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en"}},beforeMount(){if(localStorage.getItem("dark-theme"))try{this.$vuetify.theme.dark="true"==localStorage.getItem("dark-theme")}catch(e){localStorage.removeItem("dark-theme")}if(localStorage.getItem("lang"))try{this.$i18n.locale=localStorage.getItem("lang")||this.getNavigatorLanguage()}catch(e){localStorage.removeItem("lang")}else this.$i18n.locale=this.getNavigatorLanguage()}},yi=Si,Oi=(0,F.c)(yi,B,k,!1,null,null,null),Ni=Oi.exports,Ti=s(3976),bi=s(5664);i.cp.use(Ti.c);var Ii=new Ti.c({theme:{themes:{light:{primary:bi.c.blueGrey.base,primaryLight:bi.c.blueGrey.lighten4,secondary:"#6A2E35",accent:bi.c.yellow.accent4,tertiary:bi.c.grey.darken4,darkenBlack:bi.c.grey.darken4,quaternary:"#B57F50",success:"#00C49A",error:"#C42348",background:"#f9f9f9"},dark:{secondary:bi.c.green.accent4,primaryLight:bi.c.blue.lighten4,tertiary:bi.c.grey.lighten5,quaternary:bi.c.orange.darken2,darkenBlack:bi.c.grey.darken4,background:"#232425"}}}}),_i=s(9856),Li=(s(5329),s(2432)),fi=s.n(Li),vi=s(4092);function Ci(){const e=s(2760),t={};return e.keys().forEach((s=>{const i=s.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){const a=i[1];t[a]=e(s)}})),t}i.cp.use(vi.c);var Ui=new vi.c({locale:"en",fallbackLocale:"fr",messages:Ci(),silentFallbackWarn:!0});const Di={units:"units",mandala:"mandalaBonus",longest:"longestBonus",globeTrotter:"globeTrotterBonus",harbors:"harbors",trainStations:"trainStations",routes:"routes"};class Bi{constructor(){}setUnits(e){e?localStorage.setItem(Di.units,JSON.stringify(e)):localStorage.removeItem(Di.units)}getUnits(){const e=localStorage.getItem(Di.units);return e?JSON.parse(e):null}setMandala(e){e?localStorage.setItem(Di.mandala,e):localStorage.removeItem(Di.mandala)}getMandala(){const e=parseInt(localStorage.getItem(Di.mandala));return isNaN(e)?0:e}setLongest(e){e?localStorage.setItem(Di.longest,e):localStorage.removeItem(Di.longest)}getLongest(){const e=parseInt(localStorage.getItem(Di.longest));return isNaN(e)?0:e}setGlobeTrotter(e){e?localStorage.setItem(Di.globeTrotter,e):localStorage.removeItem(Di.globeTrotter)}getGlobeTrotter(){const e=parseInt(localStorage.getItem(Di.globeTrotter));return isNaN(e)?0:e}setHarbors(e){e&&0!==e?.length?localStorage.setItem(Di.harbors,JSON.stringify(e)):localStorage.removeItem(Di.harbors)}getHarbors(){const e=localStorage.getItem(Di.harbors);return e?JSON.parse(e):[]}setTrainStations(e){e?localStorage.setItem(Di.trainStations,e):localStorage.removeItem(Di.trainStations)}getTrainStations(){const e=parseInt(localStorage.getItem(Di.trainStations));return isNaN(e)?0:e}setRoutes(e){e&&0!==e?.length?localStorage.setItem(Di.routes,JSON.stringify(e)):localStorage.removeItem(Di.routes)}getRoutes(){const e=localStorage.getItem(Di.routes);return e?JSON.parse(e):[]}}var ki=new Bi,Gi=s(756),xi=s(928);class Pi{constructor(){this.unitsWithBonus=new Gi.E,this.bonusesRelatedToUnits=new xi.g}getUnitsWithBonusObservable(){return this.unitsWithBonus.asObservable()}addUnitsWithBonus(e){this.unitsWithBonus.next(e)}resetUnits(){this.unitsWithBonus.next(null)}getBonusesRelatedToUnitsObservable(){return this.bonusesRelatedToUnits.asObservable()}setBonusesRelatedToUnits(e){this.bonusesRelatedToUnits.next(e)}resetBonuses(){this.bonusesRelatedToUnits.next(null)}}var Mi=new Pi,wi=s(2580);i.cp.use(fi()),i.cp.component("ApexChart",fi()),i.cp.directive("frag",wi.c),i.cp.config.productionTip=!1,_i.c.initializeApp({apiKey:"AIzaSyCcNwnXTiqHGQxOopRIRCrhLWKXnSygMTE",authDomain:"tickettoride-13f5e.firebaseapp.com",databaseURL:"https://tickettoride-13f5e.firebaseio.com",projectId:"tickettoride-13f5e",storageBucket:"tickettoride-13f5e.appspot.com",messagingSenderId:"373665950379",appId:"1:373665950379:web:01d627fc2327d96b48a5ee"});const Hi=_i.c.firestore();new i.cp({vuetify:Ii,i18n:Ui,render:e=>e(Ni),provide:{localStorageService:ki,bonusService:Mi}}).$mount("#app")},6956:function(e){e.exports.g={LISBOA:{name:"Lisboa"},MADRID:{name:"Madrid"},CADIZ:{name:"Cadiz"},BARCELONA:{name:"Barcelona"},PAMPLONA:{name:"Pamplona"},MARSEILLE:{name:"Marseille"},PARIS:{name:"Paris"},ZURICH:{name:"ZÃ¼rich"},ROMA:{name:"Roma"},VENEZIA:{name:"Venezia"},BRINDISI:{name:"Brindisi"},PALERMO:{name:"Palermo"},ZAGRAB:{name:"Zagrab"},SARAJEVO:{name:"Sarajevo"},BUDAPEST:{name:"Budapest"},ATHINA:{name:"Athina"},SOFIA:{name:"Sofia"},BUCURESTI:{name:"Bucuresti"},SMYRNA:{name:"Smyrna"},CONSTANTINOPLE:{name:"Constantinople"},SEVASTOPOL:{name:"Sevastopol"},ANGORA:{name:"Angora"},ERZURUM:{name:"Erzurum"},SOCHI:{name:"Sochi"},ROSTOV:{name:"Rostov"},KHARKOV:{name:"Kharkov"},MOSKVA:{name:"Moskva"},SMOLENSK:{name:"Smolensk"},PETROGRAD:{name:"Petrograd"},KYIV:{name:"KyÃ¯v"},WILNO:{name:"Wilno"},RIGA:{name:"Riga"},WARSZAWA:{name:"Warszawa"},DANZIG:{name:"Danzig"},STOCKHOLM:{name:"Stockholm"},KOBENHAVN:{name:"Kobenhavn"},BERLIN:{name:"Berlin"},WIEN:{name:"Wien"},MUNCHEN:{name:"MÃ¼nchen"},FRANKFURT:{name:"Frankfurt"},ESSEN:{name:"Essen"},AMSTERDAM:{name:"Amsterdam"},BRUXELLES:{name:"Bruxelles"},DIEPPE:{name:"Dieppe"},LONDON:{name:"London"},EDINBURGH:{name:"Edinburgh"},BREST:{name:"Brest"}}},3452:function(e){e.exports.E={ESPAGNE:{name:"ESPAGNE"},ITALIE:{name:"ITALIE"},SUISSE:{name:"SUISSE"},ALLEMAGNE:{name:"ALLEMAGNE"},BELGIQUE:{name:"BELGIQUE"},CORSE:{name:"CORSE"},CHERBOURG:{name:"Cherbourg"},CALAIS:{name:"Calais"},SAINT_MALO:{name:"Saint-Malo"},LE_HAVRE:{name:"Le Havre"},ROUEN:{name:"Rouen"},AMIENS:{name:"Amiens"},LILLE:{name:"Lille"},LORIENT:{name:"Lorient"},RENNES:{name:"Rennes"},LE_MANS:{name:"Le Mans"},REIMS:{name:"Reims"},METZ:{name:"Metz"},NANTES:{name:"Nantes"},ANGERS:{name:"Angers"},TOURS:{name:"Tours"},ORLEANS:{name:"OrlÃ©ans"},NANCY:{name:"Nancy"},STRASBOURG:{name:"Strasbourg"},LA_ROCHELLE:{name:"La Rochelle"},POITIERS:{name:"Poitiers"},BOURGES:{name:"Bourges"},DIJON:{name:"Dijon"},BESANCON:{name:"BesanÃ§on"},MULHOUSE:{name:"Mulhouse"},BORDEAUX:{name:"Bordeaux"},LIMOGES:{name:"Limoges"},CLERMONT_FERRAND:{name:"Clermont-Ferrand"},LYON:{name:"Lyon"},BRIVE_LA_GAILLARDE:{name:"Brive-la-Gaillarde"},BAYONNE:{name:"Bayonne"},PAU:{name:"Pau"},TOULOUSE:{name:"Toulouse"},RODEZ:{name:"Rodez"},GRENOBLE:{name:"Grenoble"},AVIGNON:{name:"Avignon"},BRIANCON:{name:"BrianÃ§on"},MONTPELLIER:{name:"Montpellier"},PERPIGNAN:{name:"Perpignan"},NICE:{name:"Nice"},MARSEILLE:{name:"Marseille"},PARIS:{name:"Paris"},BREST:{name:"Brest"}}},4164:function(e){e.exports.w={NEW_YORK:{name:"New York",anchor:!0},SYRACUSE:{name:"Syracuse",anchor:!0},DULUTH:{name:"Duluth",anchor:!0},MONTREAL:{name:"Montreal",anchor:!0},ERIE:{name:"Erie",anchor:!0},KINGSTON:{name:"Kingston",anchor:!0},MARQUETTE:{name:"Marquette",anchor:!0},ALBANY:{name:"Albany",anchor:!0},CHICAGO:{name:"Chicago",anchor:!0},TIMMINS:{name:"Timmins",anchor:!1},CEDAR_RAPIDS:{name:"Cedar Rapids",anchor:!1},WAUSAU:{name:"Wausau",anchor:!1},DETROIT:{name:"Detroit",anchor:!0},MARATHON:{name:"Marathon",anchor:!0},CLEVELAND:{name:"Cleveland",anchor:!0},MUSKEGON:{name:"Muskegon",anchor:!0},BAY_CITY:{name:"Bay City",anchor:!0},EAU_CLAIRE:{name:"Eau Claire",anchor:!1},TOLEDO:{name:"Toledo",anchor:!0},GREEN_BAY:{name:"Green Bay",anchor:!0},SAULT_STE_MARIE:{name:"Sault Ste. Marie",anchor:!0},SUDBURY:{name:"Sudbury",anchor:!1},SOUTH_BEND:{name:"South Bend",anchor:!1},TRAVERSE_CITY:{name:"Traverse City",anchor:!0},PORT_ELGIN:{name:"Port Elgin",anchor:!0},MADISON:{name:"Madison",anchor:!1},OTTAWA:{name:"Ottawa",anchor:!1},MILWAUKEE:{name:"Milwaukee",anchor:!0},SOUTH_BAYMOUTH:{name:"South Baymouth",anchor:!0},TORONTO:{name:"Toronto",anchor:!0},THUNDER_BAY:{name:"Thunder Bay",anchor:!0},BUFFALO:{name:"Buffalo",anchor:!0},ROUYN_NORANDA:{name:"Rouyn-Noranda",anchor:!1},SCRANTON:{name:"Scranton",anchor:!1},PARRY_SOUND:{name:"Parry Sound",anchor:!0}}},7552:function(e){e.exports.C={PESHAWAR:{name:"Peshawar"},LAHORE:{name:"Lahore"},JACOBABAD:{name:"Jacobabad"},BHATINDA:{name:"Bhatinda"},AMBALA:{name:"Ambala"},ROHRI:{name:"Rohri"},DELHI:{name:"Delhi"},BAREILLY:{name:"Bareilly"},JODHPUR:{name:"Jodhpur"},LUCKNOW:{name:"Lucknow"},JARHAT:{name:"Jarhat"},KARACHI:{name:"Karachi"},JAIPUR:{name:"Jaipur"},AGRA:{name:"Agra"},KATNI:{name:"Katni"},PATNA:{name:"Patna"},DHUBRI:{name:"Dhubri"},AHMADABAD:{name:"Ahmadabad"},RATIAM:{name:"Ratiam"},BHOPAL:{name:"Bhopal"},BILASPUR:{name:"Bilaspur"},CALCUTTA:{name:"Calcutta"},CHITTAGONG:{name:"Chittagong"},KHANDWA:{name:"Khandwa"},RAIPUR:{name:"Raipur"},BOMBAY:{name:"Bombay"},MANMAD:{name:"Manmad"},INDUR:{name:"Indur"},POONA:{name:"Poona"},WADI:{name:"Wadi"},WALTAIN:{name:"Waltain"},BEZWADA:{name:"Bezwada"},MORMUGAU:{name:"Mormugau"},MADRAS:{name:"Madras"},GUNTAKAL:{name:"Guntakal"},MANGALORE:{name:"Mangalore"},CALICUT:{name:"Calicut"},ERODE:{name:"Erode"},QUILON:{name:"Quilon"}}},2380:function(e){e.exports.y={SEATTLE:{name:"Seattle"},SPOKANE:{name:"Spokane"},GREAT_FALLS:{name:"Great Falls"},WOLF_POINT:{name:"Wolf Point"},MISSOULA:{name:"Missoula"},HELENA:{name:"Helena"},BILLINGS:{name:"Billings"},BOZEMAN:{name:"Bozeman"},PORTLAND:{name:"Portland"},EUGENE:{name:"Eugene"},BEND:{name:"Bend"},BOISE:{name:"Boise"},GILLETTE:{name:"Gillette"},IDAHO_FALLS:{name:"Idaho Falls"},CASPER:{name:"Casper"},ASHLAND:{name:"Ashland"},REDDING:{name:"Redding"},WINNEMUCCA:{name:"Winnemucca"},SALT_LAKE_CITY:{name:"Salt Lake City"},GREEN_RIVER:{name:"Green River"},CHEYENNE:{name:"Cheyenne"},DENVER:{name:"Denver"},GRAND_JUNCTION:{name:"Grand Junction"},SAN_FRANCISCO:{name:"San Francisco"},SACRAMENTO:{name:"Sacremento"},CARSON_CITY:{name:"Carson City"},FRESNO:{name:"Fresno"},BAKERSFIELD:{name:"Bakersfield"},LOS_ANGELES:{name:"Los Angeles"},LAS_VEGAS:{name:"Las Vegas"},SAN_DIEGO:{name:"San Diego"},ST_GEORGE:{name:"St. George"},DURANGO:{name:"Durango"},PUEBLO:{name:"Pueblo"},SANTA_FE:{name:"Santa Fe"},FLAGSTAFF:{name:"Flagstaff"},ALBUQUERQUE:{name:"Albuquerque"},ROSWELL:{name:"Roswell"},PHOENIX:{name:"Phoenix"},TUCSON:{name:"Tucson"},LAS_CRUCES:{name:"Las Cruces"}}},9432:function(e){e.exports.y={ALTOONA:{name:"Altoona"},ALBANY:{name:"Albany"},ALLENTOWN:{name:"Allentown"},ATLANTIC_CITY:{name:"Atlantic City"},BALTIMORE:{name:"Baltimore"},BINGHAMTON:{name:"Binghamton"},BUFFALO:{name:"Buffalo"},CHAMBERSBURG:{name:"Chambersburg"},COUDERSPORT:{name:"Coudersport"},CUMBERLAND:{name:"Cumberland"},DUBOIS:{name:"Dubois"},ELMIRA:{name:"Elmira"},ERIE:{name:"Erie"},GETTYSBURG:{name:"Gettysburg"},HARRISBURG:{name:"Harrisburg"},JOHNSTOWN:{name:"Johnstown"},LANCASTER:{name:"Lancaster"},LEWISTON:{name:"Lewiston"},MORGANTOWN:{name:"Morgantown"},NEW_YORK:{name:"New York"},OIL_CITY:{name:"Oil City"},ONTARIO:{name:"Ontario"},PHILADELPHIA:{name:"Philadelphia"},PITTSBURGH:{name:"Pittsburgh"},READING:{name:"Reading"},ROCHESTER:{name:"Rochester"},SCRANTON:{name:"Scranton"},STROUDSBURG:{name:"Stroudsburg"},SYRACUSE:{name:"Syracuse"},TOWANDA:{name:"Towanda"},WARREN:{name:"Warren"},WHEELING:{name:"Wheeling"},WILLIAMSPORT:{name:"Williamsport"},YOUGSTOWN:{name:"Youngstown"},YORK:{name:"York"}}},4132:function(e){function t(e,t,s,i,a,n,r,o,c,l=0,u=0,d=null,m=0,p=0,g=0,h=0,E=0,A=!1,R=!1,S=null,y=!1){return{name:e,units:t,tickets:s,initialScore:i,pointsPerRoute:a,threshold:n,numberOfTurnsEnd:r,hasBoats:o,hasExchanges:c,hasHarbors:0!=l,numberOfHarborsPerPlayer:l,pointsPerUnsetHarbor:u,harborRule:d,hasTrainStations:0!=m,numberOfTrainStationsPerPlayer:m,pointsPerUnsetTrainStation:p,trainStationRule:g,hasLongest:0!=h,longestPoints:h,hasBonusGlobeTrotter:0!=E,bonusGlobeTrotter:E,hasBonusMandala:A,hasStockShares:R,stockSharesList:S,hasUnitedKingdomBonus:y}}e.exports.create=t},9356:function(e){e.exports.E={TOUR:"Tour",ROUTE:"Route"}},4080:function(e){e.exports.c={ABERDEEN:{name:"Aberdeen"},ABERYSTWYTH:{name:"Aberystwyth"},BARROW:{name:"Barrow"},BELFAST:{name:"Belfast"},BIRMINGHAM:{name:"Birmingham"},BRIGHTON:{name:"Brighton"},BRISTOL:{name:"Bristol"},CAMBRIDGE:{name:"Cambridge"},CARDIFF:{name:"Cardiff"},CARLISLE:{name:"Carlisle"},CARMATHEN:{name:"Carmathen"},CORK:{name:"Cork"},DOVER:{name:"Dover"},DUBLIN:{name:"Dublin"},DUNDALK:{name:"Dundalk"},DUNDEE:{name:"Dundee"},EDINBURGH:{name:"Edinburgh"},FORT_WILLIAM:{name:"Fort William"},FRANCE:{name:"FRANCE"},GALWAY:{name:"Galway"},GLASGOW:{name:"Glasgow"},HOLYHEAD:{name:"Holyhead"},HULL:{name:"Hull"},INVERNESS:{name:"Inverness"},IPSWICH:{name:"Ipswich"},LEEDS:{name:"Leeds"},LIMERICK:{name:"Limerick"},LIVERPOOL:{name:"Liverpool"},LLANDRINDOD_WELLS:{name:"Llandrindod Wells"},LONDON:{name:"London"},LONDONDERRY:{name:"Londonderry"},MANCHESTER:{name:"Manchester"},NEWCASTLE:{name:"Newcastle"},NORTHAMPTON:{name:"Northampton"},NORWICH:{name:"Norwich"},NOTTINGHAM:{name:"Nottingham"},PENZANCE:{name:"Penzance"},PLYMOUTH:{name:"Plymouth"},READING:{name:"Reading"},ROSSLARE:{name:"Rosslare"},SLIGO:{name:"Sligo"},SOUTHAMPTON:{name:"Southampton"},STORNOWAY:{name:"Stornoway"},STRANRAER:{name:"Stranraer"},TULLAMORE:{name:"Tullamore"},ULLAPOOL:{name:"Ullapool"},WICK:{name:"Wick"}}},2200:function(e){e.exports._={NOVOSIBIRSK:{name:"Novosibirsk",anchor:!1},DARWIN:{name:"Darwin",anchor:!0},MARSEILLE:{name:"Marseille",anchor:!0},AL_QAHIRA:{name:"Al Qahira",anchor:!0},VANCOUVER:{name:"Vancouver",anchor:!0},MIAMI:{name:"Miami",anchor:!0},BUENOS_AIRES:{name:"Buenos Aires",anchor:!0},MURMANSK:{name:"Murmansk",anchor:!0},TIKSI:{name:"Tiksi",anchor:!0},YAKUTSK:{name:"Yakutsk",anchor:!1},PETROPAVLOVSK:{name:"Petropavlovsk",anchor:!0},CARACAS:{name:"Caracas",anchor:!0},ATHINA:{name:"Athina",anchor:!0},MUMBAI:{name:"Mumbai",anchor:!0},BEIJING:{name:"Beijing",anchor:!1},MANILA:{name:"Manila",anchor:!0},HONOLULU:{name:"Honolulu",anchor:!0},PORT_MORESBY:{name:"Port Moresby",anchor:!0},NEW_YORK:{name:"New York",anchor:!0},MEXICO:{name:"Mexico",anchor:!1},DAR_ES_SALAAM:{name:"Dar Es Salaam",anchor:!0},TOKYO:{name:"Tokyo",anchor:!0},REYKJAVIK:{name:"Reykjavik",anchor:!0},BANGKOK:{name:"Bangkok",anchor:!0},JAKARTA:{name:"Jakarta",anchor:!0},SYDNEY:{name:"Sydney",anchor:!0},ANCHORAGE:{name:"Anchorage",anchor:!0},WINNIPEG:{name:"Winnipeg",anchor:!1},CAMBRIDGE_BAY:{name:"Cambridge Bay",anchor:!0},LOS_ANGELES:{name:"Los Angeles",anchor:!0},RIO_DE_JANEIRO:{name:"Rio de Janeiro",anchor:!0},HAMBURG:{name:"Hamburg",anchor:!0},LIMA:{name:"Lima",anchor:!0},TEHRAN:{name:"Tehran",anchor:!1},LAHORE:{name:"Lahore",anchor:!1},CASABLANCA:{name:"Casablanca",anchor:!0},LAGOS:{name:"Lagos",anchor:!0},LUANDA:{name:"Luanda",anchor:!0},DJIBOUTI:{name:"Djibouti",anchor:!1},VALPARAISO:{name:"Valparaiso",anchor:!0},HONG_KONG:{name:"Hong Kong",anchor:!0},EDINBURGH:{name:"Edinburgh",anchor:!0},MOSKVA:{name:"Moskva",anchor:!1},CHRISTCHURCH:{name:"Christchurch",anchor:!0},PERTH:{name:"Perth",anchor:!0},CAPE_TOWN:{name:"Cape Town",anchor:!0},TOAMASINA:{name:"Toamasina",anchor:!0}}},2760:function(e,t,s){var i={"./en.json":7092,"./fr.json":80};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=2760},7092:function(e){"use strict";e.exports=JSON.parse('{"main":{"btn":{"close":"CLOSE","cancel":"CANCEL","create":"CREATE","proceed":"PROCEED","ok":"OK","save":"SAVE","share":"SHARE THIS ID","reset":"RESET","add-ticket":"ADD TICKET","add-harbor":"ADD A HARBOR"},"tables":{"search":"Search","headers":{"from":"From","to":"To","steps":"Steps","points":"Points","status":"Status","actions":"Actions","delete":"Delete","version":"Version","date":"Date","players":"Players","winner":"Winner","score":"Score","details":"Details","join":"Join","city":"City","appeared":"Appeared","win-rate":"Win rate","completion-rate":"Completion"}},"status":{"done":"Done","fail":"Fail","unordered":"Unordered"},"snackbar":{"success":{"save":"Your game was saved!","share":"Sharing successful!"},"warning":{"last-units":"You now have {n} or less units left"},"error":{"open-save":"Unable to retrieve the players\' name. Try again.","toggle-status":"Oups, ticket wasn\'t found","save":"Something went wrong. Try again.","share":"Impossible to share the ID","delete":"Oups, ticket wasn\'t found","version-unsupported":"This game version is not supported"}}},"app":{"settings":"Settings","theme":"Dark theme","on":"On","off":"Off","lang":"Language","tabs":{"current":"Current Game","scoreboard":"Scoreboard","help":"Help"},"new":{"title":"New game","type":"Type of game","version":"Game Version","players":"Number of players","names":"Players name","player-label":"Player {id}","date":"Date","date-choice":"Choose a date","form":{"version":"Version is required","player":"Player name is required","invalid-player":"Player name must be valid","accent":"Accented characters are not supported"}},"warning":{"title":"Be careful !","line-1-a":"You have just joined a game that","line-1-bold":" does not ","line-1-b":"correspond to the tickets you have.","line-2":"Please reset your current game and try joining this one again afterwards."},"error":{"reset-game-session":"An error occurred while resetting game variables"}},"current":{"game":{"title":"Your game","version":"Game version","version-label":"Select the game","score":"Total score","save":"Save your game","save-placeholder":"Enter 20-character ID here","save-label":"Game ID","reset":"Reset everything"},"tickets":{"title":"Your tickets","indicators":{"left":"nb of tickets","center":"nb completed","right":"current score"},"routes":{"title":"Routes"}},"harbors":{"title":"Your harbors","indicators":{"left":"nb of cities","center":"nb of harbors","right":"current score"},"subtitle":"Built harbors","card":{"title":"Harbor #{id}","no-city":"Unknown"},"tables":{"column-1":"City","column-2":"Number","potential":{"title":"Top potential cities","no-data":"No cities yet"},"successful":{"title":"Top successful cities","no-data":"No successful cities yet"}}},"stations":{"title":"Your train stations","indicators":{"left":"nb of train stations","right":"current score"},"subtitle":"Built train stations","card":{"title":"Station #{id}"}},"bonuses":{"title":"Your bonuses","indicators":{"left":"nb of bonuses","right":"current score"},"longest-path":"Longest continuous path","globe-trotter":"Globe trotter","mandala":"Mandala","uk":{"double-heading":"Double Heading","risky-contracts":"Risky Contracts","equalising-beam":"Equalising Beam","boiler-lagging":"Boiler Lagging","steam-turbines":"Steam Turbines"}},"stock-shares":{"title":"Your stock shares","indicators":{"left":"nb of stock shares","right":"current score"},"select-label":"Score"},"units":{"title":"Your units","indicators":{"left":"nb of units","center":"nb of units left","right":"current score"},"subtitle-optional":"Available bonuses","bonuses":{"plus-one":"Bonus +1","plus-two":"Bonus +2"},"subtitle-1":"Claimed routes","subtitle-2":"Exchanges"},"dialog":{"add-ticket":{"title":"New Ticket","subtitle":"Cities","label":{"from":"From","to":"To"},"selection":{"title":"Select your ticket"},"message":"1 match found | {n} matches found","error":"This ticket has already been added"},"add-harbor":{"title":"New Harbor","subtitle":"Cities","label":"Choose a city","error":"This city already has a harbor"},"reset":{"types":{"tickets":"Reset tickets","units":"Reset units","harbors":"Reset harbors","stations":"Reset train stations","bonuses":"Reset bonuses","all":"Reset all"},"subtitle":"Are you sure you want to reset?"},"save":{"title":"Player selection","subtitle":"Choose which player you are","label":"Select your name","error":{"id":"The ID you entered is not assigned","unexpected":"Oups, something wrong happened. Contact the website admin."}}}},"scoreboard":{"overall":{"title":"Overall Scoreboard","dialog":{"title":"Game details","tabs":{"summary":{"title":"Summary","info":{"title":"Info","date":"Date","version":"Version"},"rankings":{"title":"Rankings","name":"Name","score":"Score","no-data":"No players yet"},"statistics":{"title":"Statistics","units":"Total of units","tickets":"Total of successful tickets"}},"player":{"bonuses":{"title":"Bonuses","longest":"Longest path","globe-trotter":"Globe trotter","mandala":"Mandala"},"tickets":{"title":"Tickets","no-data":"No tickets yet"},"harbors":{"title":"Harbors","no-data":"No harbors yet"},"stations":{"title":"Train stations","score":"Score","no-data":"No stations yet"},"units":{"title":"Units","routes":"Routes","number":"Number","no-data":"No units yet"}}}}},"insights":{"title":"Games insights","indicators":{"left":"nb of games","center":"points scored","right":"nb of successful tickets"},"player":{"title":"Per player","select":{"title":"Select player","label":"Player"},"data":{"title":"Data","indicators":{"left":"wins","center":"draws","right":"losses"}},"additional":{"title":"Additional data","filter":{"version":"Filter by version","players":"Filter by player","players-value":"{n} players"},"indicators":{"left":"games","center":"wins","right":"win rate"},"subtitle":"Favorite tickets"},"charts":{"players-number":{"label":"{n} players","title":"Number of players"},"version":{"title":"Version"}}},"version":{"title":"Per version","select":{"title":"Select version","label":"Version"},"data":{"title":"Data"}}}}}')},80:function(e){"use strict";e.exports=JSON.parse('{"main":{"btn":{"close":"FERMER","cancel":"ANNULER","create":"CREER","proceed":"CONTINUER","ok":"OK","save":"SAUVEGARDER","share":"PARTAGER CET ID","reset":"REINITIALISER","add-ticket":"AJOUTER TICKET","add-harbor":"AJOUTER PORT"},"tables":{"search":"Recherche","headers":{"from":"De","to":"A","steps":"Etapes","points":"Points","status":"Statut","actions":"Actions","delete":"Supprimer","version":"Version","date":"Date","players":"Joueurs","winner":"Gagnant.e","score":"Score","details":"DÃ©tails","join":"Rejoindre","city":"Ville","appeared":"Occurrence","win-rate":"% victoire","completion-rate":"% rÃ©ussite"}},"status":{"done":"Fait","fail":"RatÃ©","unordered":"En dÃ©sordre"},"snackbar":{"success":{"save":"Votre partie a Ã©tÃ© sauvÃ©e !","share":"Partage rÃ©ussi !"},"warning":{"last-units":"Il vous reste {n} unitÃ©s ou moins"},"error":{"open-save":"Impossible de rÃ©cupÃ©rer le nom des joueurs. RÃ©essayez","toggle-status":"Oups, ticket introuvable","save":"Une erreur a eu lieu. RÃ©essayez","share":"Impossible de partager l\'ID","delete":"Oups, ticket introuvable","version-unsupported":"Cette version n\'est pas supportÃ©e"}}},"app":{"settings":"ParamÃ¨tres","theme":"ThÃ¨me sombre","on":"Actif","off":"Inctif","lang":"Langue","tabs":{"current":"Partie en cours","scoreboard":"Scores","help":"Aide"},"new":{"title":"CrÃ©er partie","type":"Type de jeu","version":"Version du jeu","players":"Nombre de joueurs","names":"Nom des joueurs","player-label":"Joueur {id}","date":"Date","date-choice":"Choix de date","form":{"version":"Version requise","player":"Nom requis","invalid-player":"Le nom doit Ãªtre valide","accent":"Les caractÃ¨res accentuÃ©s ne sont pas supportÃ©s"}},"warning":{"title":"Attention !","line-1-a":"Vous avez rejoint une partie qui","line-1-bold":" ne correspond pas ","line-1-b":"aux tickets que vous avez renseignÃ©.","line-2":"Veuillez rÃ©initialiser la partie en cours et rÃ©essayer par la suite."},"error":{"reset-game-session":"Une erreur Ã  eu lieu au moment de rÃ©initialiser les variables"}},"current":{"game":{"title":"Votre partie","version":"Version","version-label":"Choisir le jeu","score":"Score total","save":"Sauvegarder la partie","save-placeholder":"Entrez l\'ID Ã  20 caractÃ¨res","save-label":"ID de la partie","reset":"Tout rÃ©initialiser"},"tickets":{"title":"Vos tickets","indicators":{"left":"nb de tickets","center":"nb rÃ©ussis","right":"score actuel"},"routes":{"title":"Objectifs"}},"harbors":{"title":"Vos ports","indicators":{"left":"nb de villes","center":"nb de ports","right":"score actuel"},"subtitle":"Ports construits","card":{"title":"Port #{id}","no-city":"Inconnu"},"tables":{"column-1":"Ville","column-2":"Nombre","potential":{"title":"Classement villes potentielles","no-data":"Aucune ville"},"successful":{"title":"Classement villes rÃ©ussies","no-data":"Aucune ville rÃ©ussie"}}},"stations":{"title":"Vos gares","indicators":{"left":"nb de gares","right":"score actuel"},"subtitle":"Gares construites","card":{"title":"Gare #{id}"}},"bonuses":{"title":"Vos bonus","indicators":{"left":"nb de bonus","right":"score actuel"},"longest-path":"Chemin le plus long","globe-trotter":"Globe trotter","mandala":"Mandala","uk":{"double-heading":"Double motrice","risky-contracts":"Contrats risquÃ©s","equalising-beam":"Suspension amÃ©liorÃ©e","boiler-lagging":"Isolation thermique","steam-turbines":"Turbines Ã  vapeur"}},"stock-shares":{"title":"Vos actions","indicators":{"left":"nb d\'actions","right":"score actuel"},"select-label":"Score obtenu"},"units":{"title":"Vos unitÃ©s","indicators":{"left":"nb posÃ©es","center":"nb restantes","right":"score actuel"},"subtitle-optional":"Bonus disponibles","bonuses":{"plus-one":"Bonus +1","plus-two":"Bonus +2"},"subtitle-1":"Routes posÃ©es","subtitle-2":"Echanges"},"dialog":{"add-ticket":{"title":"Nouveau ticket","subtitle":"Villes","label":{"from":"De","to":"A"},"selection":{"title":"Choisir un ticket"},"message":"1 rÃ©sultat trouvÃ© | {n} rÃ©sultats trouvÃ©s","error":"Ce ticket a dÃ©jÃ  Ã©tÃ© ajoutÃ©"},"add-harbor":{"title":"Nouveau port","subtitle":"Villes","label":"Choisir une ville","error":"Cette ville a dÃ©jÃ  un port"},"reset":{"types":{"tickets":"RÃ©initialiser tickets","units":"RÃ©initialiser unitÃ©s","harbors":"RÃ©initialiser ports","stations":"RÃ©initialiser gares","bonuses":"RÃ©initialiser bonus","all":"Tout rÃ©initialiser"},"subtitle":"Ãtes-vous sÃ»r.e ?"},"save":{"title":"SÃ©lection du joueur","subtitle":"Choisissez quel joueur vous Ãªtes","label":"SÃ©lection du nom","error":{"id":"L\'ID renseignÃ© n\'existe pas ou plus","unexpected":"Oups, erreur innatendue. Contactez l\'admin."}}}},"scoreboard":{"overall":{"title":"Tableau des scores","dialog":{"title":"DÃ©tails de la partie","tabs":{"summary":{"title":"Sommaire","info":{"title":"Info","date":"Date","version":"Version"},"rankings":{"title":"Classement","name":"Nom","score":"Score","no-data":"Aucun joueur"},"statistics":{"title":"Statistiques","units":"Total d\'unitÃ©s","tickets":"Total de tickets rÃ©ussis"}},"player":{"bonuses":{"title":"Bonus","longest":"Chemin le plus long","globe-trotter":"Globe trotter","mandala":"Mandala"},"tickets":{"title":"Tickets","no-data":"Aucun ticket"},"harbors":{"title":"Ports","no-data":"Aucun port"},"stations":{"title":"Gares","score":"Score","no-data":"Aucune gare"},"units":{"title":"UnitÃ©s","routes":"Routes","number":"Nombre","no-data":"Aucune unitÃ©"}}}}},"insights":{"title":"Tendances","indicators":{"left":"nb de parties","center":"total de points","right":"nb de tickets rÃ©ussis"},"player":{"title":"Par joueur","select":{"title":"Choisir joueur","label":"Joueur"},"data":{"title":"DonnÃ©es","indicators":{"left":"victoires","center":"nuls","right":"dÃ©faites"}},"additional":{"title":"DonnÃ©es additionnelles","filter":{"version":"Filtre par version","players":"Filtre par joueur","players-value":"{n} joueurs"},"indicators":{"left":"parties","center":"victoires","right":"% de victoire"},"subtitle":"Tickets favoris"},"charts":{"players-number":{"label":"{n} joueurs","title":"Nombre de joueurs"},"version":{"title":"Version"}}},"version":{"title":"Par version","select":{"title":"Choisir version","label":"Version"},"data":{"title":"DonnÃ©es"}}}}}')}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,n){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],n=e[u][2];for(var o=!0,c=0;c<i.length;c++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[c])}))?i.splice(c--,1):(o=!1,n<r&&(r=n));if(o){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,n,r=i[0],o=i[1],c=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(c)var u=c(s)}for(t&&t(i);l<r.length;l++)n=r[l],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},i=self["webpackChunktickettoride"]=self["webpackChunktickettoride"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[999],(function(){return s(1456)}));i=s.O(i)})();
//# sourceMappingURL=app.f768a3ec.js.map